1
00:00:10,280 --> 00:00:15,840
so go ahead and open up Jupiter notebook

2
00:00:13,639 --> 00:00:19,960
and we'll get started working with

3
00:00:15,840 --> 00:00:22,480
streams what's very different from this

4
00:00:19,960 --> 00:00:25,680
topic and many other topics we'll have

5
00:00:22,480 --> 00:00:29,080
is that the introduction to the topic

6
00:00:25,680 --> 00:00:31,119
will also be the unlocking video for the

7
00:00:29,080 --> 00:00:34,640
topic you've certainly done enough with

8
00:00:31,119 --> 00:00:37,160
representation in topic 2 representation

9
00:00:34,640 --> 00:00:39,879
that you deserve to have some way of

10
00:00:37,160 --> 00:00:44,440
representing music to start so we can go

11
00:00:39,879 --> 00:00:45,520
ahead and from music 21 import stream

12
00:00:44,440 --> 00:00:47,920
the stream

13
00:00:45,520 --> 00:00:51,840
module you're also going to get a second

14
00:00:47,920 --> 00:00:55,840
unlock now and that is from music 21

15
00:00:51,840 --> 00:00:58,960
import Corpus and Corpus is a collection

16
00:00:55,840 --> 00:01:01,559
of pieces that you've either created

17
00:00:58,960 --> 00:01:05,320
yourself or we'll be using a collection

18
00:01:01,559 --> 00:01:09,439
of pieces that come with music 21 so the

19
00:01:05,320 --> 00:01:11,040
Corpus uh the Corpus module has one

20
00:01:09,439 --> 00:01:13,320
method that we'll use a lot and that's

21
00:01:11,040 --> 00:01:17,119
parse and so you load something from the

22
00:01:13,320 --> 00:01:19,720
dis you uh can look online in the music

23
00:01:17,119 --> 00:01:21,479
21 users guide to see the list of pieces

24
00:01:19,720 --> 00:01:25,240
that come together come with the music

25
00:01:21,479 --> 00:01:27,560
21 Corpus but uh we happen to know one

26
00:01:25,240 --> 00:01:31,680
pretty well from our last look and

27
00:01:27,560 --> 00:01:34,560
that's Bach bwv 66 6.6 and we'll call

28
00:01:31,680 --> 00:01:38,360
that Bach

29
00:01:34,560 --> 00:01:40,520
score second n we'll just call it bach

30
00:01:38,360 --> 00:01:44,320
bach equals BW

31
00:01:40,520 --> 00:01:47,520
66.6 and we see what Bach is we see hey

32
00:01:44,320 --> 00:01:49,960
it's a type of stream called a score uh

33
00:01:47,520 --> 00:01:53,200
what we'll find out is that the music 21

34
00:01:49,960 --> 00:01:55,479
basic uh way of representing music

35
00:01:53,200 --> 00:01:57,039
starts usually with a score there are

36
00:01:55,479 --> 00:01:59,000
some things bigger than score called

37
00:01:57,039 --> 00:02:01,640
Opus and stuff like that but usually

38
00:01:59,000 --> 00:02:05,880
you're going to start with score

39
00:02:01,640 --> 00:02:07,200
and like any music 21 object you can

40
00:02:05,880 --> 00:02:11,800
show

41
00:02:07,200 --> 00:02:13,160
it so we can show the entire score it

42
00:02:11,800 --> 00:02:15,200
usually takes a little bit longer the

43
00:02:13,160 --> 00:02:18,440
first time but then it comes up and we

44
00:02:15,200 --> 00:02:21,800
can see it has four parts soprano Alto

45
00:02:18,440 --> 00:02:24,160
tenor base it's in 44 abbreviated as

46
00:02:21,800 --> 00:02:26,879
common time it begins with a pickup

47
00:02:24,160 --> 00:02:28,480
that's always going to be hard and uh

48
00:02:26,879 --> 00:02:31,040
one of the things we'll see is that

49
00:02:28,480 --> 00:02:35,480
though music 21 will call this measure 0

50
00:02:31,040 --> 00:02:38,000
1 2 and so on uh your notation software

51
00:02:35,480 --> 00:02:40,080
such as Muse mcore which is what I'm

52
00:02:38,000 --> 00:02:44,280
using to automatically generate this

53
00:02:40,080 --> 00:02:47,440
might not know how to work with um

54
00:02:44,280 --> 00:02:49,680
pickup measures as generated from music

55
00:02:47,440 --> 00:02:53,360
21 we're generating automatically to

56
00:02:49,680 --> 00:02:56,599
music XML and then loading that into uh

57
00:02:53,360 --> 00:02:58,120
Muse score and then generating a a PNG

58
00:02:56,599 --> 00:03:00,200
file and putting it back into jupyter

59
00:02:58,120 --> 00:03:02,680
notebook lots happening on the the fly

60
00:03:00,200 --> 00:03:05,040
when we say bo. show in any case for

61
00:03:02,680 --> 00:03:07,360
some reason the measure numbers don't

62
00:03:05,040 --> 00:03:10,319
translate so watch out for this music 21

63
00:03:07,360 --> 00:03:12,120
thinks of this as measure three and me

64
00:03:10,319 --> 00:03:14,200
score thinks so is measure four so

65
00:03:12,120 --> 00:03:17,239
anyhow we have four parts pretty short

66
00:03:14,200 --> 00:03:18,720
score all fits over here and I've

67
00:03:17,239 --> 00:03:20,640
already asked you to think about what

68
00:03:18,720 --> 00:03:26,519
the key is What are some interesting

69
00:03:20,640 --> 00:03:30,280
weird moments in various parts and so on

70
00:03:26,519 --> 00:03:32,640
um we can also show this as a m

71
00:03:30,280 --> 00:03:36,480
file though the sound's not nearly as

72
00:03:32,640 --> 00:03:36,480
good as the recording we listen

73
00:03:41,480 --> 00:03:47,879
to so that's kind of useful if I made my

74
00:03:44,480 --> 00:03:49,840
screen bigger than uh then the thing

75
00:03:47,879 --> 00:03:57,360
looks pretty right

76
00:03:49,840 --> 00:03:59,400
but so we have a score and a a score is

77
00:03:57,360 --> 00:04:02,879
a type of stream and a stream is a type

78
00:03:59,400 --> 00:04:05,799
of container and so it works kind of

79
00:04:02,879 --> 00:04:07,519
like a list you can see exactly what is

80
00:04:05,799 --> 00:04:11,040
in the score and we can see that there's

81
00:04:07,519 --> 00:04:12,920
a metadata object and then four part

82
00:04:11,040 --> 00:04:15,319
objects and something called the staff

83
00:04:12,920 --> 00:04:19,000
group and that kind of makes it so that

84
00:04:15,319 --> 00:04:22,759
uh all the parts look right together so

85
00:04:19,000 --> 00:04:26,320
within this we can get the soprano part

86
00:04:22,759 --> 00:04:29,759
by getting the second element from it

87
00:04:26,320 --> 00:04:31,360
which we can call that P0 for the first

88
00:04:29,759 --> 00:04:34,240
first part

89
00:04:31,360 --> 00:04:37,360
because we can get that as the first

90
00:04:34,240 --> 00:04:40,800
thing and we can see that P0 is another

91
00:04:37,360 --> 00:04:43,240
type of stream called a part so parts

92
00:04:40,800 --> 00:04:46,039
are contained within scores think about

93
00:04:43,240 --> 00:04:48,240
whether this is time wise or

94
00:04:46,039 --> 00:04:51,039
partwise well it has part so it's

95
00:04:48,240 --> 00:04:52,919
partwise so we can also take this and

96
00:04:51,039 --> 00:04:55,680
show this particular

97
00:04:52,919 --> 00:04:57,759
part and I reset for a second so it

98
00:04:55,680 --> 00:05:01,160
takes a little bit longer there we go

99
00:04:57,759 --> 00:05:03,639
just one part going there and we can see

100
00:05:01,160 --> 00:05:05,600
everything that is in part zero since

101
00:05:03,639 --> 00:05:07,880
I've said that this is a part-wise

102
00:05:05,600 --> 00:05:10,479
format think about what you would expect

103
00:05:07,880 --> 00:05:10,479
to see

104
00:05:11,000 --> 00:05:16,960
next okay have you thought about

105
00:05:13,360 --> 00:05:19,840
it that's right it's mostly a bunch of

106
00:05:16,960 --> 00:05:22,759
measures there's an instrument object

107
00:05:19,840 --> 00:05:26,319
that says it's a soprano instrument but

108
00:05:22,759 --> 00:05:28,319
then there's uh just 10 measures measure

109
00:05:26,319 --> 00:05:31,120
zero is numbered that way because it's a

110
00:05:28,319 --> 00:05:33,960
pickup measure and so on so we can get

111
00:05:31,120 --> 00:05:36,120
the pickup measure we'll call it

112
00:05:33,960 --> 00:05:38,160
pickup and what do we want to do it's

113
00:05:36,120 --> 00:05:43,960
the second element in there so we get

114
00:05:38,160 --> 00:05:43,960
one right and we can just show the

115
00:05:46,600 --> 00:05:52,120
pickup that's not too exciting let's get

116
00:05:48,919 --> 00:05:52,120
the first real

117
00:05:58,120 --> 00:06:02,560
measure yep great right and we can see

118
00:06:00,919 --> 00:06:07,199
that

119
00:06:02,560 --> 00:06:13,080
M1 is also a stream it's a measure

120
00:06:07,199 --> 00:06:15,759
object and it reports that its number is

121
00:06:13,080 --> 00:06:17,120
one yep and we can see and has something

122
00:06:15,759 --> 00:06:20,280
called an

123
00:06:17,120 --> 00:06:22,800
offset and as we said in music 21 we

124
00:06:20,280 --> 00:06:25,840
measure things in quarter lengths for

125
00:06:22,800 --> 00:06:28,120
the most part and so measure one begins

126
00:06:25,840 --> 00:06:31,160
one quarter note from the beginning of

127
00:06:28,120 --> 00:06:33,120
the piece itself and we we look again at

128
00:06:31,160 --> 00:06:35,759
this part yeah you can see there's

129
00:06:33,120 --> 00:06:39,840
coordin note 0 coordin note 0.5 cordin

130
00:06:35,759 --> 00:06:45,360
note one so measure two begins

131
00:06:39,840 --> 00:06:47,639
where right at offset five and then 9 13

132
00:06:45,360 --> 00:06:52,400
in this particular score they're all off

133
00:06:47,639 --> 00:06:53,800
by four great so let's see what's inside

134
00:06:52,400 --> 00:06:58,560
measure

135
00:06:53,800 --> 00:07:00,039
one and here we have the notes finally

136
00:06:58,560 --> 00:07:02,080
there could be if there were multiple

137
00:07:00,039 --> 00:07:04,199
voices in the Stream there could be

138
00:07:02,080 --> 00:07:05,840
voices at this point but there aren't

139
00:07:04,199 --> 00:07:09,639
this is just a single

140
00:07:05,840 --> 00:07:12,319
part so now that you can see these

141
00:07:09,639 --> 00:07:14,160
elements of a stream let me show one

142
00:07:12,319 --> 00:07:16,720
other important thing that you can do

143
00:07:14,160 --> 00:07:20,440
you've done this show uh which by

144
00:07:16,720 --> 00:07:23,319
default puts it out as music XML when

145
00:07:20,440 --> 00:07:26,199
you're putting it in a script or in the

146
00:07:23,319 --> 00:07:30,039
jupit notebook it puts it out as music

147
00:07:26,199 --> 00:07:32,360
XML um opens up Muse score if you have

148
00:07:30,039 --> 00:07:33,720
it turns it into a PNG and puts it right

149
00:07:32,360 --> 00:07:36,520
back but there's another thing you can

150
00:07:33,720 --> 00:07:39,360
do you can show it as a text file and

151
00:07:36,520 --> 00:07:42,520
that shows you not only what elements

152
00:07:39,360 --> 00:07:45,280
are inside the measure but also what

153
00:07:42,520 --> 00:07:48,879
their offsets are so every element every

154
00:07:45,280 --> 00:07:51,039
music 21 object every note every clef

155
00:07:48,879 --> 00:07:54,039
has a an

156
00:07:51,039 --> 00:07:57,080
offset within its current stream within

157
00:07:54,039 --> 00:07:59,800
its current container and it also has a

158
00:07:57,080 --> 00:08:03,560
duration and in this case each of them

159
00:07:59,800 --> 00:08:06,159
is quarter notes their durations are

160
00:08:03,560 --> 00:08:07,960
1.0 I forgot when I was making this

161
00:08:06,159 --> 00:08:10,479
video first there's something really

162
00:08:07,960 --> 00:08:14,400
important here notice that this first

163
00:08:10,479 --> 00:08:15,960
note has an offset of zero but it's not

164
00:08:14,400 --> 00:08:17,720
the first note in the piece it's the

165
00:08:15,960 --> 00:08:19,879
second or third note in the piece but at

166
00:08:17,720 --> 00:08:23,479
the second quarter note so why is it

167
00:08:19,879 --> 00:08:25,639
offset not one well it turns out all of

168
00:08:23,479 --> 00:08:27,960
the offsets are measured from the start

169
00:08:25,639 --> 00:08:30,360
of the container so this is a measure

170
00:08:27,960 --> 00:08:32,560
that begins at offset one one and

171
00:08:30,360 --> 00:08:35,399
therefore its first note is at offset

172
00:08:32,560 --> 00:08:37,320
zero within the container so if you're

173
00:08:35,399 --> 00:08:40,080
going to figure out what the offset of a

174
00:08:37,320 --> 00:08:42,440
particular element is within the piece

175
00:08:40,080 --> 00:08:46,240
as a whole you're going to need to add

176
00:08:42,440 --> 00:08:49,880
up all of the offsets of previous

177
00:08:46,240 --> 00:08:53,800
containers back to previous

178
00:08:49,880 --> 00:08:56,440
point so this is how you can load up a

179
00:08:53,800 --> 00:08:58,240
score that already exists and get to

180
00:08:56,440 --> 00:09:03,120
particular notes so in fact let's get

181
00:08:58,240 --> 00:09:05,440
that a say zero and we can see that a is

182
00:09:03,120 --> 00:09:08,160
a note and we can get its full name and

183
00:09:05,440 --> 00:09:09,839
all the other things that we worked with

184
00:09:08,160 --> 00:09:11,480
before

185
00:09:09,839 --> 00:09:14,560
pitch

186
00:09:11,480 --> 00:09:18,440
duration duration.

187
00:09:14,560 --> 00:09:21,120
type and so on so this is how you can

188
00:09:18,440 --> 00:09:25,040
load a pre-existing stream from a music

189
00:09:21,120 --> 00:09:28,440
XML file like bwv 66.6 or from a midi

190
00:09:25,040 --> 00:09:30,760
file or from an ABC file or any of a

191
00:09:28,440 --> 00:09:33,560
number of music representation formats

192
00:09:30,760 --> 00:09:36,600
that music 21 supports but now let's go

193
00:09:33,560 --> 00:09:40,880
the opposite way let's create and build

194
00:09:36,600 --> 00:09:43,160
up our own stream so we'll Build It Up

195
00:09:40,880 --> 00:09:43,160
from

196
00:09:45,800 --> 00:09:51,040
scratch let's import notes which have

197
00:09:49,200 --> 00:09:55,839
already been

198
00:09:51,040 --> 00:09:55,839
unlocked and let's create a note

199
00:09:59,959 --> 00:10:04,440
when we show this note music 21's

200
00:10:02,600 --> 00:10:07,480
actually doing something for us it's

201
00:10:04,440 --> 00:10:11,240
creating a whole set of streams around

202
00:10:07,480 --> 00:10:14,959
it for us but we can do it our own way

203
00:10:11,240 --> 00:10:17,079
so let's create a voice which is a type

204
00:10:14,959 --> 00:10:17,079
of

205
00:10:18,000 --> 00:10:26,600
stream and we

206
00:10:20,480 --> 00:10:29,000
will insert that note at position zero

207
00:10:26,600 --> 00:10:31,800
oops we will insert that note at

208
00:10:29,000 --> 00:10:34,200
position Z into the stream You' only

209
00:10:31,800 --> 00:10:36,200
think that working with music 21 for 15

210
00:10:34,200 --> 00:10:38,120
years and having created it I'd remember

211
00:10:36,200 --> 00:10:42,320
what goes first the offset or the

212
00:10:38,120 --> 00:10:44,279
element but I size forget great um we'll

213
00:10:42,320 --> 00:10:48,240
unlock

214
00:10:44,279 --> 00:10:52,000
another module for you right

215
00:10:48,240 --> 00:10:55,120
now unlock the meter module yay

216
00:10:52,000 --> 00:10:56,920
unlocking and we'll create a meter and a

217
00:10:55,120 --> 00:11:02,000
time signature of

218
00:10:56,920 --> 00:11:04,519
14 we kind of see that T like this as

219
00:11:02,000 --> 00:11:07,279
things like that now let's create a

220
00:11:04,519 --> 00:11:07,279
measure for

221
00:11:08,279 --> 00:11:14,120
it and we will insert at the beginning

222
00:11:11,160 --> 00:11:15,880
of the measure the time signature and

223
00:11:14,120 --> 00:11:20,160
also insert at the beginning of the

224
00:11:15,880 --> 00:11:22,639
measure the voice that contains the

225
00:11:20,160 --> 00:11:24,519
note we can put more than one thing at

226
00:11:22,639 --> 00:11:26,320
the beginning because time signatures

227
00:11:24,519 --> 00:11:31,240
don't have any

228
00:11:26,320 --> 00:11:31,240
duration now we can create a part

229
00:11:32,480 --> 00:11:38,079
and we can insert the part at the

230
00:11:36,120 --> 00:11:43,079
beginning the measure at the beginning

231
00:11:38,079 --> 00:11:45,079
of the part or we can put the measure at

232
00:11:43,079 --> 00:11:48,279
the end of the part and since there's

233
00:11:45,079 --> 00:11:50,000
nothing in the part right now A pend is

234
00:11:48,279 --> 00:11:51,440
will be the same as inserting a zero but

235
00:11:50,000 --> 00:11:54,839
you don't have to remember how many

236
00:11:51,440 --> 00:11:56,160
things are in there yet now we'll create

237
00:11:54,839 --> 00:11:58,519
a

238
00:11:56,160 --> 00:12:00,680
score and we'll put the part at the

239
00:11:58,519 --> 00:12:02,760
beginning of the score one of the

240
00:12:00,680 --> 00:12:05,320
mistakes that people make with music 21

241
00:12:02,760 --> 00:12:07,560
quite often is that they get so used to

242
00:12:05,320 --> 00:12:09,360
appending things that they'll append the

243
00:12:07,560 --> 00:12:11,120
part to the score which the first part

244
00:12:09,360 --> 00:12:13,000
that's fine but then they'll append the

245
00:12:11,120 --> 00:12:14,839
second part to the score and if you

246
00:12:13,000 --> 00:12:17,240
think about it Parts don't follow each

247
00:12:14,839 --> 00:12:19,560
other they're all at position zero so

248
00:12:17,240 --> 00:12:23,480
you want to make sure to always insert

249
00:12:19,560 --> 00:12:27,440
Parts at position zero now we have a

250
00:12:23,480 --> 00:12:29,880
score that looks basically the same as

251
00:12:27,440 --> 00:12:36,720
when we created the n

252
00:12:29,880 --> 00:12:40,199
note if we modify some parts of the um

253
00:12:36,720 --> 00:12:45,320
of the original note objects something

254
00:12:40,199 --> 00:12:47,399
we can see that the score will be

255
00:12:45,320 --> 00:12:48,920
updated as we

256
00:12:47,399 --> 00:12:51,160
do

257
00:12:48,920 --> 00:12:53,560
now that doesn't match the time

258
00:12:51,160 --> 00:12:55,000
signature because we explicitly put a

259
00:12:53,560 --> 00:12:56,880
time signature in there so it doesn't

260
00:12:55,000 --> 00:13:01,120
create one for us so let's

261
00:12:56,880 --> 00:13:01,120
create a rest

262
00:13:01,680 --> 00:13:07,760
and then in that voice let's insert at

263
00:13:04,880 --> 00:13:12,160
0.5 now let's let's make it easier

264
00:13:07,760 --> 00:13:16,040
append the rest to there and

265
00:13:12,160 --> 00:13:20,440
now show all

266
00:13:16,040 --> 00:13:23,000
this if we do a show of text on the

267
00:13:20,440 --> 00:13:26,480
score we can see that it includes the

268
00:13:23,000 --> 00:13:30,120
part the measure the time signature the

269
00:13:26,480 --> 00:13:32,160
voice and then the note and the rest

270
00:13:30,120 --> 00:13:35,959
well that's enough for streams for today

271
00:13:32,160 --> 00:13:35,959
thanks for paying attention

