1
00:00:00,000 --> 00:00:02,000
All

2
00:00:11,599 --> 00:00:16,640
right, welcome back to graphs. This will

3
00:00:14,559 --> 00:00:21,119
be our last lecture that's fully about

4
00:00:16,640 --> 00:00:22,720
graphs. Um, and we're going to move away

5
00:00:21,119 --> 00:00:24,000
from what we've been talking about for

6
00:00:22,720 --> 00:00:26,800
the last three lectures, simple

7
00:00:24,000 --> 00:00:28,480
undirected graphs, and move to the other

8
00:00:26,800 --> 00:00:32,760
kind of graph we talk about in this

9
00:00:28,480 --> 00:00:32,760
class, which is directed graphs,

10
00:00:35,680 --> 00:00:41,320
which we sometimes shorten to diagraph.

11
00:00:42,320 --> 00:00:45,600
So, from now on, we're going to have to

12
00:00:43,920 --> 00:00:47,039
be explicit. Every time we talk about a

13
00:00:45,600 --> 00:00:49,600
graph, we should say directed or

14
00:00:47,039 --> 00:00:51,440
undirected. Simple is implicit when we

15
00:00:49,600 --> 00:00:55,360
say undirected.

16
00:00:51,440 --> 00:00:57,120
But uh we should distinguish. Uh so the

17
00:00:55,360 --> 00:00:59,120
motivation is uh what if your

18
00:00:57,120 --> 00:01:01,760
connections only go in one direction,

19
00:00:59,120 --> 00:01:04,879
right? Maybe uh you have one-way roads

20
00:01:01,760 --> 00:01:06,960
like all of Boston or you have uh

21
00:01:04,879 --> 00:01:09,920
one-way follow relationships instead of

22
00:01:06,960 --> 00:01:11,520
friendships uh or you have network

23
00:01:09,920 --> 00:01:14,000
connections you can only send in one

24
00:01:11,520 --> 00:01:16,000
direction. those do exist though they're

25
00:01:14,000 --> 00:01:18,720
less common and so directed graphs are

26
00:01:16,000 --> 00:01:22,360
going to model that for us.

27
00:01:18,720 --> 00:01:22,360
Uh so

28
00:01:23,680 --> 00:01:30,560
things are going to look very similar

29
00:01:27,439 --> 00:01:33,720
to the old definition uh just the edges

30
00:01:30,560 --> 00:01:33,720
are different.

31
00:01:34,560 --> 00:01:38,000
So you may recall we had this cross

32
00:01:36,400 --> 00:01:40,880
productduct notation. I'm going to

33
00:01:38,000 --> 00:01:44,799
remind you so we can compare. uh this is

34
00:01:40,880 --> 00:01:47,600
a set of ordered pairs of

35
00:01:44,799 --> 00:01:49,119
vertices in this case. Uh so very

36
00:01:47,600 --> 00:01:52,079
similar

37
00:01:49,119 --> 00:01:55,040
uh property here edges were unordered

38
00:01:52,079 --> 00:01:58,479
sets of two vertices here they are

39
00:01:55,040 --> 00:02:01,119
ordered pairs of two vertices. Uh the

40
00:01:58,479 --> 00:02:04,759
other difference is here we forbade

41
00:02:01,119 --> 00:02:04,759
having a loop.

42
00:02:04,960 --> 00:02:08,920
Uh here we allow it.

43
00:02:09,200 --> 00:02:14,879
So this was

44
00:02:12,480 --> 00:02:17,840
not allowed over here but allowed over

45
00:02:14,879 --> 00:02:23,360
here. Um

46
00:02:17,840 --> 00:02:26,239
still uh we over here we forbade uh two

47
00:02:23,360 --> 00:02:28,480
edges connecting the same two vertices.

48
00:02:26,239 --> 00:02:31,280
Uh here we

49
00:02:28,480 --> 00:02:35,760
allow uh two edges going in opposite

50
00:02:31,280 --> 00:02:38,319
directions. Uh so this was a no.

51
00:02:35,760 --> 00:02:40,319
uh we still forbid in this picture

52
00:02:38,319 --> 00:02:44,080
having two edges going in the same

53
00:02:40,319 --> 00:02:46,239
direction between the same two vertices.

54
00:02:44,080 --> 00:02:48,720
Okay, that's a consequence because uh E

55
00:02:46,239 --> 00:02:50,879
is a set. You're only allowed to have

56
00:02:48,720 --> 00:02:53,040
one of each.

57
00:02:50,879 --> 00:02:57,000
So that's the definition. Very simple.

58
00:02:53,040 --> 00:02:57,000
Uh here's a little example

59
00:02:57,200 --> 00:03:01,920
on

60
00:02:59,120 --> 00:03:04,159
six vertices. It's a floating vertex out

61
00:03:01,920 --> 00:03:07,360
here f.

62
00:03:04,159 --> 00:03:08,720
Uh so you see uh you can have sometimes

63
00:03:07,360 --> 00:03:10,480
you can have an edge that goes in both

64
00:03:08,720 --> 00:03:12,400
directions. Sometimes you have an edge

65
00:03:10,480 --> 00:03:14,720
that only goes in one direction. Uh

66
00:03:12,400 --> 00:03:17,360
maybe sometimes you add a loop. I think

67
00:03:14,720 --> 00:03:20,239
I wanted one here.

68
00:03:17,360 --> 00:03:24,599
And I should have written it over here

69
00:03:20,239 --> 00:03:24,599
that just looks like da d.

70
00:03:25,360 --> 00:03:30,080
And there you go. Okay. Uh now the first

71
00:03:28,879 --> 00:03:32,000
part of today is just going to be

72
00:03:30,080 --> 00:03:34,560
porting over all the definitions from

73
00:03:32,000 --> 00:03:37,200
last class into this model. Most of the

74
00:03:34,560 --> 00:03:38,799
things we talked about behave similarly.

75
00:03:37,200 --> 00:03:40,879
Some of them behave different in

76
00:03:38,799 --> 00:03:44,080
interesting ways. So bear with me while

77
00:03:40,879 --> 00:03:48,400
we define a few things. Um the very

78
00:03:44,080 --> 00:03:50,640
first thing is what about

79
00:03:48,400 --> 00:03:52,480
degrees?

80
00:03:50,640 --> 00:03:53,840
So that's uh way back in the beginning

81
00:03:52,480 --> 00:03:56,000
of graphs we talked about the degree of

82
00:03:53,840 --> 00:03:58,480
a vertex was the number of incident

83
00:03:56,000 --> 00:04:00,400
edges. But now a vertex can have two

84
00:03:58,480 --> 00:04:02,640
types of incident edges. It can have

85
00:04:00,400 --> 00:04:05,840
some incoming edges and it can have some

86
00:04:02,640 --> 00:04:07,280
outgoing edges. So in general of a

87
00:04:05,840 --> 00:04:10,640
vertex V, it's going to have some

88
00:04:07,280 --> 00:04:14,760
incoming guys and some outgoing. We call

89
00:04:10,640 --> 00:04:14,760
this the in degree

90
00:04:15,040 --> 00:04:20,799
and we call this the outderee.

91
00:04:18,320 --> 00:04:23,759
We don't define degree

92
00:04:20,799 --> 00:04:27,759
because it's confusing and ambiguous. So

93
00:04:23,759 --> 00:04:31,759
in degree for example of a vertex

94
00:04:27,759 --> 00:04:34,240
is uh the

95
00:04:31,759 --> 00:04:38,400
sorry not the sum

96
00:04:34,240 --> 00:04:41,680
the cardality of the set of

97
00:04:38,400 --> 00:04:44,880
uh edges uv

98
00:04:41,680 --> 00:04:47,600
that are in e

99
00:04:44,880 --> 00:04:49,520
where u is some vertex.

100
00:04:47,600 --> 00:04:53,360
So this is just counting the number of

101
00:04:49,520 --> 00:04:56,360
edges going into V and the outderee is

102
00:04:53,360 --> 00:04:56,360
symmetric.

103
00:04:58,560 --> 00:05:03,479
This would be like V comma U.

104
00:05:12,160 --> 00:05:16,000
Before we only had one type of edge. So

105
00:05:14,400 --> 00:05:17,680
uh there was only one notion. Sometimes

106
00:05:16,000 --> 00:05:20,080
these are called degree plus and degree

107
00:05:17,680 --> 00:05:21,360
minus or degree sub in sub out. I can

108
00:05:20,080 --> 00:05:22,800
never remember which is plus and which

109
00:05:21,360 --> 00:05:25,520
is minus. So I always write in degree

110
00:05:22,800 --> 00:05:29,680
and outderee. Uh you can choose your own

111
00:05:25,520 --> 00:05:33,800
adventure. Um a related thing to degree

112
00:05:29,680 --> 00:05:33,800
is the handshaking lema.

113
00:05:39,680 --> 00:05:45,639
Who remembers what the handshaking lema

114
00:05:41,520 --> 00:05:45,639
was for undirected graphs?

115
00:05:46,560 --> 00:05:51,880
That was ages ago before spring break.

116
00:05:57,280 --> 00:06:00,280
Yeah.

117
00:06:02,560 --> 00:06:05,759
Right. The sum of the degrees of the

118
00:06:04,080 --> 00:06:08,759
vertices

119
00:06:05,759 --> 00:06:08,759
uh

120
00:06:08,800 --> 00:06:15,039
is uh twice the number of edges. I think

121
00:06:11,199 --> 00:06:18,560
you said over two but close.

122
00:06:15,039 --> 00:06:21,280
Um so in this world this was in some

123
00:06:18,560 --> 00:06:23,199
sense because every edge

124
00:06:21,280 --> 00:06:25,199
uh was getting counted twice right you

125
00:06:23,199 --> 00:06:27,840
count if you sum the degrees of of this

126
00:06:25,199 --> 00:06:29,919
vertex and of this vertex you count this

127
00:06:27,840 --> 00:06:34,000
edge once from this side and once from

128
00:06:29,919 --> 00:06:36,240
this side. Uh now we have distinguished

129
00:06:34,000 --> 00:06:38,319
in some sense each end of each edge.

130
00:06:36,240 --> 00:06:40,080
There's the in edge and the out edge or

131
00:06:38,319 --> 00:06:42,479
I guess call this the in edge and this

132
00:06:40,080 --> 00:06:45,759
is the it comes out of B and goes into

133
00:06:42,479 --> 00:06:48,759
D. So if we write the sum of say in

134
00:06:45,759 --> 00:06:48,759
degrees.

135
00:06:51,199 --> 00:06:56,600
So this was just remembering undirected

136
00:06:56,960 --> 00:07:02,560
in the directed case we have uh sum over

137
00:06:59,599 --> 00:07:05,759
all vertices of inderee equals exactly

138
00:07:02,560 --> 00:07:09,960
the number of edges and also equals the

139
00:07:05,759 --> 00:07:09,960
sum of the outdrees

140
00:07:14,880 --> 00:07:22,560
uh because now our edges are directed.

141
00:07:20,080 --> 00:07:24,720
I have an arrow. And so if we sum the in

142
00:07:22,560 --> 00:07:26,319
degrees, we will only count this edge

143
00:07:24,720 --> 00:07:28,240
from this side when we're looking at

144
00:07:26,319 --> 00:07:30,240
this vertex. If we sum the outderees,

145
00:07:28,240 --> 00:07:32,720
we'll only count count this edge once

146
00:07:30,240 --> 00:07:34,479
from this vertex. So these two sums are

147
00:07:32,720 --> 00:07:36,160
the same and they both give you the

148
00:07:34,479 --> 00:07:37,680
number of edges. So in some sense, a

149
00:07:36,160 --> 00:07:39,440
little cleaner than what we had from

150
00:07:37,680 --> 00:07:43,599
undirected graphs because we split each

151
00:07:39,440 --> 00:07:46,639
edge and uh or we've distinguished the

152
00:07:43,599 --> 00:07:49,759
two sides of the edge, I should say.

153
00:07:46,639 --> 00:07:52,639
All right, let's catch up to last

154
00:07:49,759 --> 00:07:56,360
lecture which is

155
00:07:52,639 --> 00:07:56,360
was all about locks.

156
00:07:56,720 --> 00:08:02,080
So this definition is actually it's

157
00:07:59,759 --> 00:08:05,039
pretty much exactly the same. Just

158
00:08:02,080 --> 00:08:08,879
repeat it so we remember.

159
00:08:05,039 --> 00:08:12,160
We had a sequence of vertices

160
00:08:08,879 --> 00:08:14,240
where each

161
00:08:12,160 --> 00:08:16,879
uh vi

162
00:08:14,240 --> 00:08:19,840
to vi + one

163
00:08:16,879 --> 00:08:21,280
is an edge. But before we had curly

164
00:08:19,840 --> 00:08:23,440
braces here saying the order didn't

165
00:08:21,280 --> 00:08:25,199
matter because edges were undirected.

166
00:08:23,440 --> 00:08:27,840
Now we have parenthesis saying this is

167
00:08:25,199 --> 00:08:29,520
an ordered pair. You have to go forward

168
00:08:27,840 --> 00:08:31,039
along each edge. So that's a crucial

169
00:08:29,520 --> 00:08:32,719
distinction.

170
00:08:31,039 --> 00:08:35,440
must

171
00:08:32,719 --> 00:08:40,039
uh go forward along the edge. In other

172
00:08:35,440 --> 00:08:40,039
words, you have to respect the arrows.

173
00:08:42,880 --> 00:08:46,440
So, for example,

174
00:08:49,680 --> 00:08:57,040
this graph uh we could start at A and go

175
00:08:53,519 --> 00:08:59,519
to C and then go to E. That would be an

176
00:08:57,040 --> 00:09:04,440
example of not just a walk but a path

177
00:08:59,519 --> 00:09:04,440
which has no repeated vertices or edges.

178
00:09:19,600 --> 00:09:27,200
Or

179
00:09:21,839 --> 00:09:32,240
we could go from A to B to A to B to A

180
00:09:27,200 --> 00:09:36,240
to B to D to D to D to D to D to E. That

181
00:09:32,240 --> 00:09:38,480
would be an example of a walk

182
00:09:36,240 --> 00:09:40,640
exciting.

183
00:09:38,480 --> 00:09:43,120
I should say these structures should

184
00:09:40,640 --> 00:09:46,080
look familiar. If you can remember even

185
00:09:43,120 --> 00:09:49,440
farther back to lecture four which was

186
00:09:46,080 --> 00:09:51,279
about state machines, these are exactly

187
00:09:49,440 --> 00:09:53,040
state machines. Like the only difference

188
00:09:51,279 --> 00:09:55,200
is in directed graphs we usually think

189
00:09:53,040 --> 00:09:56,399
about finite graphs and with state

190
00:09:55,200 --> 00:09:59,200
machines we're often thinking about

191
00:09:56,399 --> 00:10:01,600
infinite machines but uh this is the

192
00:09:59,200 --> 00:10:06,880
same setup. This definition mirrors

193
00:10:01,600 --> 00:10:08,320
exactly um state machines and walks. The

194
00:10:06,880 --> 00:10:10,800
only difference another difference is

195
00:10:08,320 --> 00:10:12,959
state machine had an initial state.

196
00:10:10,800 --> 00:10:15,279
There's no notion of initial state here.

197
00:10:12,959 --> 00:10:17,760
But a walk is just like an execution in

198
00:10:15,279 --> 00:10:19,360
a state machine. So unifying all that

199
00:10:17,760 --> 00:10:23,680
terminology. We didn't have a notion of

200
00:10:19,360 --> 00:10:26,959
path or anything. We just had walks.

201
00:10:23,680 --> 00:10:34,079
Okay. Uh as before, a walk like this is

202
00:10:26,959 --> 00:10:36,560
from v 0 to vk and k is the length.

203
00:10:34,079 --> 00:10:38,240
Length always counts the number of edges

204
00:10:36,560 --> 00:10:40,240
not vertices.

205
00:10:38,240 --> 00:10:42,399
Uh then we had the closed notion. there

206
00:10:40,240 --> 00:10:45,519
was a closed walk

207
00:10:42,399 --> 00:10:49,120
uh and in particular a cycle. Closed

208
00:10:45,519 --> 00:10:50,480
meant the v 0 equals vk and cycle was

209
00:10:49,120 --> 00:10:55,720
essentially the closed version of a

210
00:10:50,480 --> 00:10:55,720
path. So this was closed walk

211
00:10:56,640 --> 00:11:01,519
of

212
00:10:58,640 --> 00:11:08,120
length greater than zero

213
00:11:01,519 --> 00:11:08,120
with no other repeated vertices or edges

214
00:11:11,279 --> 00:11:18,880
other than the first equaling the last.

215
00:11:16,079 --> 00:11:21,600
Okay. The difference is um in an

216
00:11:18,880 --> 00:11:24,880
undirected graph, the shortest cycle had

217
00:11:21,600 --> 00:11:28,320
length three.

218
00:11:24,880 --> 00:11:31,200
We could make a cycle like this, a

219
00:11:28,320 --> 00:11:33,279
triangle. Uh we weren't allowed to make

220
00:11:31,200 --> 00:11:36,160
a cycle with a single edge because then

221
00:11:33,279 --> 00:11:39,279
you'd necessarily repeat that edge.

222
00:11:36,160 --> 00:11:41,839
Where's my red?

223
00:11:39,279 --> 00:11:46,000
In an undirected graph,

224
00:11:41,839 --> 00:11:48,480
this was forbidden.

225
00:11:46,000 --> 00:11:52,000
But in a directed graph it's possible.

226
00:11:48,480 --> 00:11:54,320
Uh if we have the edge uv and we have

227
00:11:52,000 --> 00:11:57,920
the edge vu

228
00:11:54,320 --> 00:12:02,839
then there is a two cycle

229
00:11:57,920 --> 00:12:02,839
like that goes u vu

230
00:12:03,519 --> 00:12:07,200
um there's even a one cycle right

231
00:12:04,959 --> 00:12:08,959
because we can have loops. So here for

232
00:12:07,200 --> 00:12:13,600
example

233
00:12:08,959 --> 00:12:17,120
D to D is a length one cycle

234
00:12:13,600 --> 00:12:18,639
in this notation. Okay so a little

235
00:12:17,120 --> 00:12:20,720
different than what we had before a

236
00:12:18,639 --> 00:12:22,240
little more general but turns out this

237
00:12:20,720 --> 00:12:25,279
notion of cycle is still interesting for

238
00:12:22,240 --> 00:12:29,079
directed graphs. All right let's move on

239
00:12:25,279 --> 00:12:29,079
to connectivity.

240
00:12:34,000 --> 00:12:38,160
Before we had a nice notion of U and V

241
00:12:36,480 --> 00:12:40,160
being connected to each other and it was

242
00:12:38,160 --> 00:12:42,959
symmetric. U is connected to V if and

243
00:12:40,160 --> 00:12:45,120
only if V is connected to U. Now it's no

244
00:12:42,959 --> 00:12:47,920
longer symmetric and we're going to use

245
00:12:45,120 --> 00:12:53,800
a different term for it to make that

246
00:12:47,920 --> 00:12:53,800
clear. So we'll say v is reachable

247
00:12:54,720 --> 00:13:01,680
from u or u can reach v

248
00:12:59,760 --> 00:13:05,279
if

249
00:13:01,680 --> 00:13:07,120
uh there exists a walk

250
00:13:05,279 --> 00:13:09,839
from

251
00:13:07,120 --> 00:13:11,680
u to v.

252
00:13:09,839 --> 00:13:14,000
Okay. So this looks like the same

253
00:13:11,680 --> 00:13:16,639
definition of uv connected in the

254
00:13:14,000 --> 00:13:19,200
undirected case. But now because walks

255
00:13:16,639 --> 00:13:22,639
can't be reversed

256
00:13:19,200 --> 00:13:25,200
because if you reverse a walk uh if I go

257
00:13:22,639 --> 00:13:26,959
from VK back to V0 then I'm using all

258
00:13:25,200 --> 00:13:29,040
the edges in the opposite direction and

259
00:13:26,959 --> 00:13:30,399
that's not in general allowed unless you

260
00:13:29,040 --> 00:13:33,680
happen to have a graph where every edge

261
00:13:30,399 --> 00:13:36,480
is doubled. You won't be able to reverse

262
00:13:33,680 --> 00:13:38,320
your walk.

263
00:13:36,480 --> 00:13:40,320
Uh so this is no longer equivalent to

264
00:13:38,320 --> 00:13:42,160
there existing a walk from V to U. But

265
00:13:40,320 --> 00:13:47,360
it is still equivalent to there existing

266
00:13:42,160 --> 00:13:49,839
a path from V to U from U to V sorry

267
00:13:47,360 --> 00:13:51,519
that part is still true. The proof is

268
00:13:49,839 --> 00:13:54,880
actually exactly the same. You take a

269
00:13:51,519 --> 00:13:59,199
shortest walk from U to V and uh if it's

270
00:13:54,880 --> 00:14:02,000
not a path then it has some loop in it

271
00:13:59,199 --> 00:14:03,519
some cycle essentially and then you omit

272
00:14:02,000 --> 00:14:05,120
that cycle and you get a shorter walk

273
00:14:03,519 --> 00:14:07,760
contradiction.

274
00:14:05,120 --> 00:14:09,600
Okay. So same exactly the same proof as

275
00:14:07,760 --> 00:14:12,720
before still respects the edge

276
00:14:09,600 --> 00:14:15,760
directions which is nice. So uh for the

277
00:14:12,720 --> 00:14:17,680
purpose of reachability now uh walks and

278
00:14:15,760 --> 00:14:19,839
paths are the same. So we can assume

279
00:14:17,680 --> 00:14:21,600
whichever one is more convenient. Um

280
00:14:19,839 --> 00:14:24,560
this relation

281
00:14:21,600 --> 00:14:27,440
uh is still

282
00:14:24,560 --> 00:14:29,279
this you know reachability property is

283
00:14:27,440 --> 00:14:31,519
still reflexive

284
00:14:29,279 --> 00:14:35,199
and transitive. Remind you what those

285
00:14:31,519 --> 00:14:37,440
mean. uh reflexive means V can reach V

286
00:14:35,199 --> 00:14:40,000
for any vertex V you can always get to

287
00:14:37,440 --> 00:14:42,399
yourself you just don't do anything u

288
00:14:40,000 --> 00:14:46,399
and it's still transitive meaning if you

289
00:14:42,399 --> 00:14:49,120
can get from A to B and u B can reach if

290
00:14:46,399 --> 00:14:50,800
A can reach B and B can reach C then A

291
00:14:49,120 --> 00:14:54,480
can reach C you can still concatenate

292
00:14:50,800 --> 00:14:59,279
paths together and that's fine okay but

293
00:14:54,480 --> 00:15:01,199
uh no longer symmetric

294
00:14:59,279 --> 00:15:03,920
already said this a couple times but if

295
00:15:01,199 --> 00:15:06,399
you If a can a can reach b, we don't

296
00:15:03,920 --> 00:15:08,480
necessarily have b can reach a. So that

297
00:15:06,399 --> 00:15:09,760
makes things more interesting. In

298
00:15:08,480 --> 00:15:12,720
particular, what does it mean for the

299
00:15:09,760 --> 00:15:16,839
whole graph to be connected? Uh for that

300
00:15:12,720 --> 00:15:16,839
it's useful to talk about

301
00:15:17,279 --> 00:15:21,600
um there's a very strong notion of

302
00:15:19,279 --> 00:15:24,639
connectivity.

303
00:15:21,600 --> 00:15:26,959
First uh

304
00:15:24,639 --> 00:15:31,040
say two vertices u and v are strongly

305
00:15:26,959 --> 00:15:35,399
connected in a directed graph. if uh

306
00:15:31,040 --> 00:15:35,399
they're mutually reachable.

307
00:15:37,199 --> 00:15:42,079
In other words, uh U can reach V and V

308
00:15:40,079 --> 00:15:44,560
can reach U.

309
00:15:42,079 --> 00:15:46,399
Okay. Uh this behaves symmetrically. If

310
00:15:44,560 --> 00:15:48,639
U and V are strongly connected, then V

311
00:15:46,399 --> 00:15:51,040
and U are also strongly connected sort

312
00:15:48,639 --> 00:15:56,680
of by definition. It's like U can reach

313
00:15:51,040 --> 00:15:56,680
V and V can reach U.

314
00:15:57,680 --> 00:16:04,680
uh and in particular we call the entire

315
00:16:00,240 --> 00:16:04,680
graph strongly connected

316
00:16:06,800 --> 00:16:11,240
if everything can reach everything.

317
00:16:11,759 --> 00:16:22,199
If uh for all u all vertices u and v um

318
00:16:18,480 --> 00:16:22,199
u can reach v

319
00:16:22,639 --> 00:16:30,959
or in other words uh for all u and v

320
00:16:27,600 --> 00:16:36,120
uh u and v are strongly connected. So

321
00:16:30,959 --> 00:16:36,120
again the pairwise relation

322
00:16:36,399 --> 00:16:40,079
these graphs are nice because you can

323
00:16:38,399 --> 00:16:42,480
start anywhere and get anywhere else.

324
00:16:40,079 --> 00:16:44,720
you never get stuck. But in general in a

325
00:16:42,480 --> 00:16:47,600
directed graph, you could walk and not

326
00:16:44,720 --> 00:16:50,800
be able to return. So for example, in

327
00:16:47,600 --> 00:16:52,560
this graph, uh maybe you walk around

328
00:16:50,800 --> 00:16:55,120
like you do take one of the walks that I

329
00:16:52,560 --> 00:16:56,720
drew, but once you end up in E, you're

330
00:16:55,120 --> 00:17:00,079
stuck. Or if you start in E, you can't

331
00:16:56,720 --> 00:17:03,519
get anywhere except E itself. Start in

332
00:17:00,079 --> 00:17:05,360
F, you also can't go anywhere.

333
00:17:03,519 --> 00:17:07,039
But that's a little less exciting. So

334
00:17:05,360 --> 00:17:09,760
that graph obviously is not strongly

335
00:17:07,039 --> 00:17:12,400
connected. Um,

336
00:17:09,760 --> 00:17:15,400
maybe I'll draw an example of one that

337
00:17:12,400 --> 00:17:15,400
is

338
00:17:38,799 --> 00:17:43,160
This graph is strongly connected.

339
00:17:45,280 --> 00:17:53,640
It's also oileran.

340
00:17:47,679 --> 00:17:53,640
So remember uh an oiler tour

341
00:17:56,240 --> 00:18:02,919
was a closed walk. It visits every edge

342
00:17:59,600 --> 00:18:02,919
exactly once

343
00:18:16,400 --> 00:18:20,919
uh and visits every vertex

344
00:18:21,120 --> 00:18:27,280
at least once.

345
00:18:24,160 --> 00:18:30,240
So this graph is orarian. I drew it in

346
00:18:27,280 --> 00:18:32,720
an orarian way, but I will also redraw a

347
00:18:30,240 --> 00:18:34,640
path here. Uh, you can go around the

348
00:18:32,720 --> 00:18:36,000
outside. Notice now I'm respecting the

349
00:18:34,640 --> 00:18:38,000
edge directions. That's a little

350
00:18:36,000 --> 00:18:41,000
different from the example we saw last

351
00:18:38,000 --> 00:18:41,000
class.

352
00:18:43,760 --> 00:18:48,080
I think I got all the edges exactly

353
00:18:45,840 --> 00:18:50,400
once.

354
00:18:48,080 --> 00:18:52,799
So, uh, again, you might ask when which

355
00:18:50,400 --> 00:18:57,600
graphs are. We did the really long proof

356
00:18:52,799 --> 00:19:00,400
last class and it turns out um

357
00:18:57,600 --> 00:19:04,240
there's a very similar characterization.

358
00:19:00,400 --> 00:19:08,600
So, oiler tour exists if and only if uh

359
00:19:04,240 --> 00:19:08,600
your graph is strongly connected

360
00:19:12,880 --> 00:19:19,520
and uh for every vertex

361
00:19:17,440 --> 00:19:23,240
the in degree

362
00:19:19,520 --> 00:19:23,240
equals the outderee.

363
00:19:28,080 --> 00:19:31,200
And there's another there's a similar

364
00:19:29,440 --> 00:19:33,120
characterization for oiler walks instead

365
00:19:31,200 --> 00:19:37,280
of oiler tours. It's just a little

366
00:19:33,120 --> 00:19:39,919
uglier. So I won't go into it. It's just

367
00:19:37,280 --> 00:19:43,039
you allow these to differ by one for a

368
00:19:39,919 --> 00:19:44,480
couple vertices in a particular way. Um

369
00:19:43,039 --> 00:19:47,360
so in particular if you look at this

370
00:19:44,480 --> 00:19:50,240
example it should be every vertex either

371
00:19:47,360 --> 00:19:53,200
has two in two out. This one has two

372
00:19:50,240 --> 00:19:55,360
coming in two going out or one in one

373
00:19:53,200 --> 00:19:57,520
out. And in general, if you have k

374
00:19:55,360 --> 00:20:00,080
incoming edges, you should have also k

375
00:19:57,520 --> 00:20:04,400
outgoing edges in order to have an oiler

376
00:20:00,080 --> 00:20:07,039
tour. Why? Uh because what goes in must

377
00:20:04,400 --> 00:20:08,320
come out. Uh similar all the proofs here

378
00:20:07,039 --> 00:20:10,960
are similar to what we did for

379
00:20:08,320 --> 00:20:12,720
undirected graphs. Um before we are

380
00:20:10,960 --> 00:20:14,480
saying the number of edges at each

381
00:20:12,720 --> 00:20:16,160
vertex had to be even because every time

382
00:20:14,480 --> 00:20:18,799
we enter the vertex, we also had to

383
00:20:16,160 --> 00:20:20,720
leave. But this is the directed version

384
00:20:18,799 --> 00:20:23,280
of that where every time you come in,

385
00:20:20,720 --> 00:20:25,760
you must also exit. if you have a closed

386
00:20:23,280 --> 00:20:28,880
loop, if you have a a closed walk that

387
00:20:25,760 --> 00:20:30,880
visits all these edges. Uh so certainly

388
00:20:28,880 --> 00:20:33,200
this is necessary. Strong connectivity

389
00:20:30,880 --> 00:20:34,720
is also necessary because the oiler tour

390
00:20:33,200 --> 00:20:37,440
gives you a way to get from anywhere to

391
00:20:34,720 --> 00:20:39,360
anywhere. It's like a giant subway line.

392
00:20:37,440 --> 00:20:40,799
You can get on whenever you want and

393
00:20:39,360 --> 00:20:43,679
follow it until you get to whatever

394
00:20:40,799 --> 00:20:46,080
vertex you want. Because we said the

395
00:20:43,679 --> 00:20:48,880
oiler tour visits every vertex, that's a

396
00:20:46,080 --> 00:20:50,400
way to get from anywhere to anywhere.

397
00:20:48,880 --> 00:20:51,520
Might take a while, but you'll get

398
00:20:50,400 --> 00:20:55,120
there.

399
00:20:51,520 --> 00:20:56,320
Uh, and what else? Yeah, the proof again

400
00:20:55,120 --> 00:20:58,159
is similar. If you want to show that

401
00:20:56,320 --> 00:21:00,240
these properties are sufficient, you

402
00:20:58,159 --> 00:21:02,799
take the longest possible trail that

403
00:21:00,240 --> 00:21:05,039
visits every edge at most once and argue

404
00:21:02,799 --> 00:21:07,440
that it's closed for the same reasons as

405
00:21:05,039 --> 00:21:09,520
before and that it actually has to visit

406
00:21:07,440 --> 00:21:11,440
every edge because otherwise you could

407
00:21:09,520 --> 00:21:13,440
make it longer.

408
00:21:11,440 --> 00:21:15,919
Okay,

409
00:21:13,440 --> 00:21:19,600
I think we're pretty much through the

410
00:21:15,919 --> 00:21:21,919
the main repetition from before.

411
00:21:19,600 --> 00:21:23,840
There's one more related notion to

412
00:21:21,919 --> 00:21:26,080
connectivity

413
00:21:23,840 --> 00:21:27,360
uh which is connected components. We

414
00:21:26,080 --> 00:21:30,159
talked about connected components a

415
00:21:27,360 --> 00:21:31,440
little bit for undirected graphs.

416
00:21:30,159 --> 00:21:34,919
They're a little more interesting for

417
00:21:31,440 --> 00:21:34,919
directed graphs.

418
00:21:35,760 --> 00:21:39,600
Uh

419
00:21:37,520 --> 00:21:42,080
in particular they mainly make sense for

420
00:21:39,600 --> 00:21:47,799
strong connectivity. We don't define any

421
00:21:42,080 --> 00:21:47,799
other types. uh it's not surprising.

422
00:21:48,720 --> 00:21:56,159
So strong connected component or sec

423
00:21:52,640 --> 00:22:01,600
of a vertex V

424
00:21:56,159 --> 00:22:05,039
is the uh graph induced. This is similar

425
00:22:01,600 --> 00:22:08,840
to how we set it up before

426
00:22:05,039 --> 00:22:08,840
by uh

427
00:22:12,320 --> 00:22:17,799
all the vertices that are strongly

428
00:22:14,240 --> 00:22:17,799
connected to V.

429
00:22:25,840 --> 00:22:30,280
Okay, let's look at an example.

430
00:22:32,720 --> 00:22:37,200
This example it's a little a bit

431
00:22:34,640 --> 00:22:40,240
interesting. So for example, what is the

432
00:22:37,200 --> 00:22:43,919
strongly connected component of A? I

433
00:22:40,240 --> 00:22:47,799
haven't made this too ugly.

434
00:22:43,919 --> 00:22:47,799
Redraw this a little bit.

435
00:22:48,240 --> 00:22:52,919
What vertices are strongly connected to

436
00:22:49,919 --> 00:22:52,919
A?

437
00:22:54,000 --> 00:22:57,320
Shout them out.

438
00:23:00,080 --> 00:23:06,840
B can I can definitely get to B and B

439
00:23:03,200 --> 00:23:06,840
can get back to A.

440
00:23:08,000 --> 00:23:14,720
C. Uh, I can get from A Oh, no. I can

441
00:23:11,760 --> 00:23:17,679
get from A to C this way. And C can get

442
00:23:14,720 --> 00:23:21,000
to A via B.

443
00:23:17,679 --> 00:23:21,000
Anything else?

444
00:23:21,760 --> 00:23:25,520
No.

445
00:23:23,600 --> 00:23:27,120
Turns out if you if you follow any of

446
00:23:25,520 --> 00:23:30,159
these edges any of these two edges,

447
00:23:27,120 --> 00:23:32,080
you're never getting back. And also f is

448
00:23:30,159 --> 00:23:36,720
neither reachable is not reachable from

449
00:23:32,080 --> 00:23:39,280
a in either direction. So uh this chunk

450
00:23:36,720 --> 00:23:42,480
here

451
00:23:39,280 --> 00:23:44,559
is a strongly connected component. And

452
00:23:42,480 --> 00:23:46,080
again when I say the graph induced by

453
00:23:44,559 --> 00:23:49,280
these three vertices, so this is the

454
00:23:46,080 --> 00:23:51,679
graph induced by ABC,

455
00:23:49,280 --> 00:23:53,120
I mean that's my vertex set. I take

456
00:23:51,679 --> 00:23:55,200
those three vertices, none of the

457
00:23:53,120 --> 00:23:56,960
others, and I take all the edges that

458
00:23:55,200 --> 00:23:59,200
were in my original graph among those

459
00:23:56,960 --> 00:24:02,960
three vertices and throw away everything

460
00:23:59,200 --> 00:24:04,720
outside. So that boxed region is the

461
00:24:02,960 --> 00:24:06,159
strongly connected component of A. It's

462
00:24:04,720 --> 00:24:07,679
also the strongly connected component of

463
00:24:06,159 --> 00:24:09,919
B and the strongly connected component

464
00:24:07,679 --> 00:24:11,279
of C.

465
00:24:09,919 --> 00:24:14,400
What's the strongly connected component

466
00:24:11,279 --> 00:24:17,440
of D?

467
00:24:14,400 --> 00:24:20,880
Just D. So this is in a strongly

468
00:24:17,440 --> 00:24:26,760
connected component by itself.

469
00:24:20,880 --> 00:24:26,760
and E similarly and F similarly.

470
00:24:31,039 --> 00:24:36,000
Okay. Um

471
00:24:33,520 --> 00:24:39,039
in general we get a bunch of strongly

472
00:24:36,000 --> 00:24:40,880
connected components and before it was

473
00:24:39,039 --> 00:24:42,720
very clean, right? Everything like

474
00:24:40,880 --> 00:24:44,400
anything you could possibly touch was in

475
00:24:42,720 --> 00:24:47,679
one strongly connect was when one

476
00:24:44,400 --> 00:24:49,919
connected component and every vertex and

477
00:24:47,679 --> 00:24:52,720
every edge fell into one connected

478
00:24:49,919 --> 00:24:54,000
component. That was the situation for

479
00:24:52,720 --> 00:24:55,440
undirected graphs. We said that

480
00:24:54,000 --> 00:24:57,679
connected components partitioned the

481
00:24:55,440 --> 00:24:59,760
graph. Everything appeared exactly once

482
00:24:57,679 --> 00:25:01,919
in one of the pieces. Now it's not so

483
00:24:59,760 --> 00:25:03,600
clean. The vertices get partitioned.

484
00:25:01,919 --> 00:25:05,039
There's some vertices in this component,

485
00:25:03,600 --> 00:25:07,520
some in this, some in this, some in

486
00:25:05,039 --> 00:25:09,440
this. Every vertex is in exactly one

487
00:25:07,520 --> 00:25:10,799
strongly connected component. But for

488
00:25:09,440 --> 00:25:13,679
directed graphs, there are also some

489
00:25:10,799 --> 00:25:16,640
edges between components.

490
00:25:13,679 --> 00:25:18,240
That's a little more interesting.

491
00:25:16,640 --> 00:25:21,039
Uh

492
00:25:18,240 --> 00:25:23,840
so let's say

493
00:25:21,039 --> 00:25:25,679
every

494
00:25:23,840 --> 00:25:27,520
vertex

495
00:25:25,679 --> 00:25:29,760
is in

496
00:25:27,520 --> 00:25:35,600
exactly

497
00:25:29,760 --> 00:25:37,679
one strongly connected component. But uh

498
00:25:35,600 --> 00:25:41,240
we have some

499
00:25:37,679 --> 00:25:41,240
edges between

500
00:25:43,679 --> 00:25:48,559
and there's a nice way to kind of

501
00:25:45,039 --> 00:25:51,520
organize this which we call

502
00:25:48,559 --> 00:25:51,520
condensation graph.

503
00:26:05,840 --> 00:26:11,480
Okay. Uh condensation graph of a graph G

504
00:26:13,200 --> 00:26:18,880
is another graph H

505
00:26:16,000 --> 00:26:21,840
vertex set C and edge set F. These are

506
00:26:18,880 --> 00:26:24,000
just some madeup letters

507
00:26:21,840 --> 00:26:27,200
where

508
00:26:24,000 --> 00:26:30,799
C is

509
00:26:27,200 --> 00:26:33,039
I forgot some notation.

510
00:26:30,799 --> 00:26:35,600
So the strongly connected component of

511
00:26:33,039 --> 00:26:38,799
vertex V I'm going to call square

512
00:26:35,600 --> 00:26:40,480
bracket V probably just for this lecture

513
00:26:38,799 --> 00:26:42,240
but it's convenient to have some name

514
00:26:40,480 --> 00:26:44,559
for the strongly connected component

515
00:26:42,240 --> 00:26:46,480
that contains V.

516
00:26:44,559 --> 00:26:48,080
And C is going to be the set of all

517
00:26:46,480 --> 00:26:50,320
strongly connected components. So now I

518
00:26:48,080 --> 00:26:53,039
can write it as square bracket V for all

519
00:26:50,320 --> 00:26:56,640
vertices V and V.

520
00:26:53,039 --> 00:26:59,120
Okay. So in this example

521
00:26:56,640 --> 00:27:00,720
I

522
00:26:59,120 --> 00:27:04,600
draw

523
00:27:00,720 --> 00:27:04,600
a graph over here.

524
00:27:12,080 --> 00:27:18,640
So this was G.

525
00:27:14,559 --> 00:27:20,559
H is going to have one vertex for this

526
00:27:18,640 --> 00:27:22,240
strongly connected component. One for

527
00:27:20,559 --> 00:27:24,159
this one, one for this one, one for this

528
00:27:22,240 --> 00:27:26,480
one. So four vertices. I'm going to

529
00:27:24,159 --> 00:27:29,200
label them with the vertices that in the

530
00:27:26,480 --> 00:27:31,279
original graph that they came from. Got

531
00:27:29,200 --> 00:27:35,200
D up here,

532
00:27:31,279 --> 00:27:37,919
E roughly over here, and F over here.

533
00:27:35,200 --> 00:27:39,200
Okay. Now, what are the edges?

534
00:27:37,919 --> 00:27:42,880
Well, the edges are just going to

535
00:27:39,200 --> 00:27:44,480
correspond to uh whenever

536
00:27:42,880 --> 00:27:49,320
uh I want to read this from right to

537
00:27:44,480 --> 00:27:49,320
left. So, let me write it first.

538
00:27:57,360 --> 00:28:03,600
So, whenever I have an edge UV in the

539
00:28:00,159 --> 00:28:05,520
original graph, I want to draw an edge

540
00:28:03,600 --> 00:28:06,880
uh between the corresponding strongly

541
00:28:05,520 --> 00:28:09,760
connected components. the strongly

542
00:28:06,880 --> 00:28:11,279
connected component containing U to the

543
00:28:09,760 --> 00:28:15,120
strongly connected component containing

544
00:28:11,279 --> 00:28:18,080
V. Uh except I don't want edges from a

545
00:28:15,120 --> 00:28:22,080
strongly connected component to itself.

546
00:28:18,080 --> 00:28:24,640
Uh just because it's cleaner that way.

547
00:28:22,080 --> 00:28:26,799
So uh this will represent exactly the

548
00:28:24,640 --> 00:28:28,399
edges between components, right? There

549
00:28:26,799 --> 00:28:32,080
are some edges within components which I

550
00:28:28,399 --> 00:28:33,760
kind of want to ignore because I can get

551
00:28:32,080 --> 00:28:35,440
anywhere within this component. So it's

552
00:28:33,760 --> 00:28:36,880
for from a connectivity standpoint, from

553
00:28:35,440 --> 00:28:38,480
a reachability standpoint, I don't

554
00:28:36,880 --> 00:28:40,000
really care about the distinction

555
00:28:38,480 --> 00:28:41,520
between A, B, and C. They're all

556
00:28:40,000 --> 00:28:43,600
essentially the same. If I'm at any of

557
00:28:41,520 --> 00:28:46,320
them, I can go to any other. But then

558
00:28:43,600 --> 00:28:48,080
there's these edges between components

559
00:28:46,320 --> 00:28:53,200
that are interesting. Highlight them

560
00:28:48,080 --> 00:28:58,720
here in bold. So we've got ABC to D.

561
00:28:53,200 --> 00:29:00,559
We've got ABC to E. We've got D to E.

562
00:28:58,720 --> 00:29:03,600
And that's it.

563
00:29:00,559 --> 00:29:06,080
So this is the condensation graph. And

564
00:29:03,600 --> 00:29:08,159
so if you want to know uh reachability

565
00:29:06,080 --> 00:29:10,240
between two vertices in the original

566
00:29:08,159 --> 00:29:12,720
graph, you can figure it out by looking

567
00:29:10,240 --> 00:29:13,840
at reachability within H. So if

568
00:29:12,720 --> 00:29:15,679
everything's strongly connected, you're

569
00:29:13,840 --> 00:29:17,440
in one big component. That's easy.

570
00:29:15,679 --> 00:29:20,000
Answer is always yes. Otherwise, you

571
00:29:17,440 --> 00:29:22,960
have to look at walks in the cond

572
00:29:20,000 --> 00:29:25,960
condensation graph.

573
00:29:22,960 --> 00:29:25,960
All right,

574
00:29:27,919 --> 00:29:31,279
next topic. And actually the last topic

575
00:29:29,679 --> 00:29:34,240
which we'll spend a bunch of time on is

576
00:29:31,279 --> 00:29:37,279
much more interesting than last time is

577
00:29:34,240 --> 00:29:42,360
asyclic graphs.

578
00:29:37,279 --> 00:29:42,360
So what would you call an undirected

579
00:29:43,360 --> 00:29:46,919
asyclic graph?

580
00:29:49,360 --> 00:29:54,399
Anyone remember

581
00:29:51,520 --> 00:29:56,480
if we mentioned it

582
00:29:54,399 --> 00:29:58,559
tree

583
00:29:56,480 --> 00:30:00,960
what you're gonna say uh actually trees

584
00:29:58,559 --> 00:30:03,200
are connected undirected as cyclic

585
00:30:00,960 --> 00:30:04,720
graphs. So almost so we we may not have

586
00:30:03,200 --> 00:30:07,360
even mentioned it here but we use the

587
00:30:04,720 --> 00:30:09,600
word forest for the general case when

588
00:30:07,360 --> 00:30:11,600
you're not necessarily connected. So in

589
00:30:09,600 --> 00:30:13,360
the undirected case a forest is just any

590
00:30:11,600 --> 00:30:14,960
asyclic graph. Each of its connected

591
00:30:13,360 --> 00:30:19,200
components is a tree but it might have

592
00:30:14,960 --> 00:30:21,039
more than one. Okay. Uh today we're

593
00:30:19,200 --> 00:30:24,039
going to talk about directed as cyclic

594
00:30:21,039 --> 00:30:24,039
graphs.

595
00:30:26,399 --> 00:30:30,679
I feel like there should be some

596
00:30:30,799 --> 00:30:34,240
nature-based pun for directed as cyclic

597
00:30:32,960 --> 00:30:37,120
graphs, but instead they're just

598
00:30:34,240 --> 00:30:39,760
commonly called DAGs

599
00:30:37,120 --> 00:30:42,399
uh for directed as cyclic graph. So it's

600
00:30:39,760 --> 00:30:44,559
kind of boring. Sometimes I've seen dog

601
00:30:42,399 --> 00:30:46,960
like D- AWG. That's another type of

602
00:30:44,559 --> 00:30:50,399
graph which we won't get into. So that's

603
00:30:46,960 --> 00:30:51,919
nature based I guess. Um all right. So

604
00:30:50,399 --> 00:30:53,840
what's an example of a directed as

605
00:30:51,919 --> 00:30:58,120
cyclic graph?

606
00:30:53,840 --> 00:30:58,120
Have we seen any in this class?

607
00:31:08,960 --> 00:31:11,960
Yeah.

608
00:31:12,159 --> 00:31:15,919
A terminating state machine. Yeah. uh

609
00:31:14,320 --> 00:31:18,399
maybe not all terminating state machines

610
00:31:15,919 --> 00:31:22,159
but the ones that we the method we use

611
00:31:18,399 --> 00:31:24,799
to prove them. So like a state machine.

612
00:31:22,159 --> 00:31:26,960
Uh

613
00:31:24,799 --> 00:31:28,559
oh maybe yeah maybe all terminating

614
00:31:26,960 --> 00:31:30,880
state machines actually but in

615
00:31:28,559 --> 00:31:32,799
particular those with uh strictly

616
00:31:30,880 --> 00:31:36,679
decreasing

617
00:31:32,799 --> 00:31:36,679
uh derived variable

618
00:31:42,320 --> 00:31:46,559
it's strictly decreasing then you can't

619
00:31:44,399 --> 00:31:48,720
make any cycles. I think even conversely

620
00:31:46,559 --> 00:31:50,559
if you made a cycle then that would be

621
00:31:48,720 --> 00:31:52,960
repeating that cycle over and over would

622
00:31:50,559 --> 00:31:58,039
be a non-terminating execution. So

623
00:31:52,960 --> 00:31:58,039
indeed or terminating state machines

624
00:32:00,159 --> 00:32:06,799
good. Um another one

625
00:32:04,159 --> 00:32:10,919
is this graph the condensation graph we

626
00:32:06,799 --> 00:32:10,919
just defined maybe not obvious.

627
00:32:12,960 --> 00:32:17,039
These are just examples. Uh of course

628
00:32:15,200 --> 00:32:18,399
there are many directed asyclic graphs

629
00:32:17,039 --> 00:32:20,960
but there's no definition here. I mean

630
00:32:18,399 --> 00:32:23,840
the definition is directed as cyclic and

631
00:32:20,960 --> 00:32:25,519
graph or I guess as cyclic you might say

632
00:32:23,840 --> 00:32:27,919
as cyclic diagramraph given the terms

633
00:32:25,519 --> 00:32:31,200
we've used but it's always written d a g

634
00:32:27,919 --> 00:32:34,399
so there you go uh condensation graph is

635
00:32:31,200 --> 00:32:37,120
also always as cyclic because if there

636
00:32:34,399 --> 00:32:40,000
was a cycle like if I could get from ABC

637
00:32:37,120 --> 00:32:43,120
to D to E back to ABC well then these

638
00:32:40,000 --> 00:32:45,840
three should actually all be in one

639
00:32:43,120 --> 00:32:47,360
uh strongly connected component right so

640
00:32:45,840 --> 00:32:51,399
there can't be any cycles in this graph

641
00:32:47,360 --> 00:32:51,399
otherwise I would collapsed further.

642
00:32:51,519 --> 00:32:55,519
So there we go. Uh the what makes the

643
00:32:53,840 --> 00:32:58,720
condensation graph interesting in some

644
00:32:55,519 --> 00:33:01,600
sense is it becomes a cyclic. You can

645
00:32:58,720 --> 00:33:04,000
track all the cycles into one vertex or

646
00:33:01,600 --> 00:33:06,320
each cycle into one vertex.

647
00:33:04,000 --> 00:33:09,679
All right. Uh

648
00:33:06,320 --> 00:33:12,720
I have a

649
00:33:09,679 --> 00:33:17,000
quote practical example here. You'll see

650
00:33:12,720 --> 00:33:17,000
you see why I'm laughing in a second.

651
00:33:17,760 --> 00:33:22,080
So directed as cyclic graphs come up

652
00:33:19,679 --> 00:33:24,240
naturally a lot. I mean you can make any

653
00:33:22,080 --> 00:33:26,240
graph a cyclic by constructing the

654
00:33:24,240 --> 00:33:29,360
condensation graph. But uh where they're

655
00:33:26,240 --> 00:33:30,960
quite common is in a set of constraints.

656
00:33:29,360 --> 00:33:33,279
Suppose you have a bunch of tasks you

657
00:33:30,960 --> 00:33:34,799
need to do and there's some precedence

658
00:33:33,279 --> 00:33:36,559
constraints. This has to happen before

659
00:33:34,799 --> 00:33:38,320
that. This has to happen before that.

660
00:33:36,559 --> 00:33:40,480
You could imagine project management or

661
00:33:38,320 --> 00:33:42,799
whatever. I'm going to give a very real

662
00:33:40,480 --> 00:33:46,640
world example you do every single day I

663
00:33:42,799 --> 00:33:50,640
hope. uh which is getting dressed.

664
00:33:46,640 --> 00:33:52,559
So suppose you have some socks you want

665
00:33:50,640 --> 00:33:55,120
to put on

666
00:33:52,559 --> 00:33:56,720
and you may know that socks come before

667
00:33:55,120 --> 00:33:58,960
shoes. I've tried it the other way. It

668
00:33:56,720 --> 00:34:02,559
doesn't work so well.

669
00:33:58,960 --> 00:34:04,799
And uh usually I put one sock on at a

670
00:34:02,559 --> 00:34:07,519
time. So there's your left sock and your

671
00:34:04,799 --> 00:34:11,200
right sock. Uh apologies for people who

672
00:34:07,519 --> 00:34:13,760
have different number of feet.

673
00:34:11,200 --> 00:34:16,399
uh like dogs, it's even more annoying.

674
00:34:13,760 --> 00:34:17,679
Um but uh these are examples of

675
00:34:16,399 --> 00:34:19,119
precedence relations. You want to put

676
00:34:17,679 --> 00:34:20,320
the left sock on before you put your

677
00:34:19,119 --> 00:34:21,760
left shoe on. You want to put your right

678
00:34:20,320 --> 00:34:23,599
sock on before you put your right shoe

679
00:34:21,760 --> 00:34:25,280
on. But you don't really care about the

680
00:34:23,599 --> 00:34:26,639
ordering between these two sides. I

681
00:34:25,280 --> 00:34:28,079
could do both of these and then do both

682
00:34:26,639 --> 00:34:30,240
of these. Or I could do both socks and

683
00:34:28,079 --> 00:34:32,079
then both shoes. I could do left, right,

684
00:34:30,240 --> 00:34:34,480
right, left. There are lots of possible

685
00:34:32,079 --> 00:34:39,679
orderings that are valid here. You can

686
00:34:34,480 --> 00:34:44,560
add more fun things like uh pants.

687
00:34:39,679 --> 00:34:46,720
Those have to happen before your shoes.

688
00:34:44,560 --> 00:34:51,280
And I don't know, you probably want to

689
00:34:46,720 --> 00:34:55,599
put a shirt on. And maybe you have uh a

690
00:34:51,280 --> 00:34:57,760
jacket on top of that. And you have a

691
00:34:55,599 --> 00:35:00,960
belt, which you should put on before

692
00:34:57,760 --> 00:35:04,480
after your pants, let's say. And maybe

693
00:35:00,960 --> 00:35:07,520
like a winter coat.

694
00:35:04,480 --> 00:35:10,000
Still kind of winter, maybe. We'll see.

695
00:35:07,520 --> 00:35:12,160
Uh, and if you're really cold, maybe you

696
00:35:10,000 --> 00:35:13,680
want a scarf. And I've heard debates

697
00:35:12,160 --> 00:35:16,160
about which of these goes first, but

698
00:35:13,680 --> 00:35:18,480
let's say scarf before coat. Uh,

699
00:35:16,160 --> 00:35:20,720
certainly after your jacket and maybe

700
00:35:18,480 --> 00:35:23,200
you want a hat on, but that could happen

701
00:35:20,720 --> 00:35:25,280
pretty much anytime after your jacket.

702
00:35:23,200 --> 00:35:28,160
So something like this. I think those

703
00:35:25,280 --> 00:35:29,680
are all the all the annotations I had

704
00:35:28,160 --> 00:35:31,280
here.

705
00:35:29,680 --> 00:35:33,440
And now you'd like to find a valid

706
00:35:31,280 --> 00:35:35,119
ordering. If you want to find a valid

707
00:35:33,440 --> 00:35:37,119
ordering, there better not be any cycles

708
00:35:35,119 --> 00:35:38,640
here because then you could never

709
00:35:37,119 --> 00:35:40,720
resolve that cycle. If you have a cycle

710
00:35:38,640 --> 00:35:42,400
of precedence constraints and A has to

711
00:35:40,720 --> 00:35:44,320
happen before B, B has to happen before

712
00:35:42,400 --> 00:35:46,079
C and C has to happen before A, then

713
00:35:44,320 --> 00:35:48,640
nothing, none of A, B and C could happen

714
00:35:46,079 --> 00:35:51,920
first. So that would be bad. So in any

715
00:35:48,640 --> 00:35:54,079
kind of uh precedence constraint graph

716
00:35:51,920 --> 00:35:55,520
like this, you want to have no cycle. So

717
00:35:54,079 --> 00:35:58,560
this is practical motivation for

718
00:35:55,520 --> 00:36:00,400
directed asyclic graphs. And now we'd

719
00:35:58,560 --> 00:36:04,480
like to

720
00:36:00,400 --> 00:36:08,200
let's define a notion of um

721
00:36:04,480 --> 00:36:08,200
topological ordering

722
00:36:16,160 --> 00:36:20,960
of a DAG

723
00:36:19,040 --> 00:36:22,880
is

724
00:36:20,960 --> 00:36:26,400
an ordering

725
00:36:22,880 --> 00:36:26,400
of all the vertices.

726
00:36:30,720 --> 00:36:34,920
such that each vertex

727
00:36:35,119 --> 00:36:38,440
uh appears

728
00:36:38,960 --> 00:36:41,960
before

729
00:36:42,400 --> 00:36:46,520
all vertices it can reach.

730
00:36:54,000 --> 00:37:02,000
give it a name. So I'll call it V here.

731
00:36:57,920 --> 00:37:03,839
So for example, uh pants has to happen

732
00:37:02,000 --> 00:37:06,720
before belt, but also pants has to

733
00:37:03,839 --> 00:37:09,119
happen before your winter coat because

734
00:37:06,720 --> 00:37:11,119
of these two connections.

735
00:37:09,119 --> 00:37:12,960
And pants has to happen before shoe. So

736
00:37:11,119 --> 00:37:15,839
pants should be listed earlier in your

737
00:37:12,960 --> 00:37:17,599
sequence before your right shoe, before

738
00:37:15,839 --> 00:37:20,000
your left shoe, before your winter coat,

739
00:37:17,599 --> 00:37:22,400
before your belt, before uh that's

740
00:37:20,000 --> 00:37:24,720
that's it for pants. Okay. Okay. And if

741
00:37:22,400 --> 00:37:26,320
we can find an ordering

742
00:37:24,720 --> 00:37:27,599
uh that satisfies that property, then

743
00:37:26,320 --> 00:37:31,920
that would be a legitimate way to

744
00:37:27,599 --> 00:37:33,359
execute this these set of tasks.

745
00:37:31,920 --> 00:37:35,599
And the next thing I'd like to do is

746
00:37:33,359 --> 00:37:37,920
prove that topological orderings always

747
00:37:35,599 --> 00:37:40,079
exist.

748
00:37:37,920 --> 00:37:43,480
Seems reasonable

749
00:37:40,079 --> 00:37:43,480
in a DAG.

750
00:37:43,520 --> 00:37:48,079
If, as I said before, if you have a

751
00:37:45,040 --> 00:37:50,640
cyclic graph, these don't exist. That's

752
00:37:48,079 --> 00:37:52,880
a little less exciting. As long as your

753
00:37:50,640 --> 00:37:54,240
graph is a cyclic, you can always find a

754
00:37:52,880 --> 00:37:56,800
topological order. And there's a nice

755
00:37:54,240 --> 00:38:01,119
way to do it. Uh let me first define a

756
00:37:56,800 --> 00:38:05,200
couple of useful terms. One is

757
00:38:01,119 --> 00:38:08,960
source. This is for any directed graph.

758
00:38:05,200 --> 00:38:13,800
A source is a vertex

759
00:38:08,960 --> 00:38:13,800
of in degree zero.

760
00:38:16,079 --> 00:38:21,760
This is going to act kind of like a leaf

761
00:38:18,960 --> 00:38:24,320
for us and that we had for trees.

762
00:38:21,760 --> 00:38:26,960
Remember uh directly cyclic graphs here

763
00:38:24,320 --> 00:38:30,480
are sort of our analogy of trees or

764
00:38:26,960 --> 00:38:32,320
forests more generally

765
00:38:30,480 --> 00:38:33,920
and

766
00:38:32,320 --> 00:38:35,520
degree one vertices. Well, there's no

767
00:38:33,920 --> 00:38:38,640
notion of degree here anymore. We just

768
00:38:35,520 --> 00:38:40,079
have inderee and outderee. So instead of

769
00:38:38,640 --> 00:38:42,000
degree one vertices we're going to look

770
00:38:40,079 --> 00:38:44,320
at inderee zero. So for example, left

771
00:38:42,000 --> 00:38:47,200
sock is a source, right sock is a

772
00:38:44,320 --> 00:38:50,200
source, pants is a source and shirt is a

773
00:38:47,200 --> 00:38:50,200
source

774
00:38:51,680 --> 00:38:55,160
in this graph.

775
00:38:56,000 --> 00:39:02,599
Uh and the complimentary notion now is

776
00:38:59,599 --> 00:39:02,599
sync

777
00:39:06,560 --> 00:39:12,480
and this is a vertex

778
00:39:08,880 --> 00:39:12,480
of outderee zero.

779
00:39:14,880 --> 00:39:19,440
So in this graph

780
00:39:17,359 --> 00:39:23,920
we have

781
00:39:19,440 --> 00:39:25,760
few of them also left shoe is a sink

782
00:39:23,920 --> 00:39:29,359
right shoe is a sink I have no outgoing

783
00:39:25,760 --> 00:39:35,480
edges winter coat is a sink

784
00:39:29,359 --> 00:39:35,480
and hat is a sink these were sinks.

785
00:39:38,720 --> 00:39:42,400
Okay. And then there are some vertices

786
00:39:39,920 --> 00:39:44,880
that are neither. Probably in general

787
00:39:42,400 --> 00:39:48,160
most of them are neither. But uh what we

788
00:39:44,880 --> 00:39:50,880
do know like the fact that every tree

789
00:39:48,160 --> 00:39:54,160
with at least two vertices has at least

790
00:39:50,880 --> 00:39:57,200
two leaves. We know that every

791
00:39:54,160 --> 00:39:59,359
DAG has at least one source and at least

792
00:39:57,200 --> 00:40:01,200
one sync.

793
00:39:59,359 --> 00:40:03,920
So if you're wondering why two leaves

794
00:40:01,200 --> 00:40:06,160
for a tree, this is kind of why. Maybe

795
00:40:03,920 --> 00:40:07,839
this is uh distinguishing the two two

796
00:40:06,160 --> 00:40:12,839
ends. And the proof is actually very

797
00:40:07,839 --> 00:40:12,839
similar. So let's do lema.

798
00:40:15,680 --> 00:40:21,839
Every DAG

799
00:40:17,839 --> 00:40:26,200
has a source

800
00:40:21,839 --> 00:40:26,200
and a sync

801
00:40:27,520 --> 00:40:31,680
proof.

802
00:40:30,480 --> 00:40:33,760
I don't know if you remember the proof

803
00:40:31,680 --> 00:40:36,560
that every tree has at least two leaves.

804
00:40:33,760 --> 00:40:40,200
Uh it was take

805
00:40:36,560 --> 00:40:40,200
a longest

806
00:40:41,119 --> 00:40:46,560
path or walk. Uh maybe it's worth

807
00:40:44,000 --> 00:40:49,280
mentioning for DAGs, walks and paths are

808
00:40:46,560 --> 00:40:50,880
the same thing because the thing we're

809
00:40:49,280 --> 00:40:53,119
worried about with paths is do you ever

810
00:40:50,880 --> 00:40:56,160
cycle? Do you ever repeat a vertex? But

811
00:40:53,119 --> 00:41:00,359
if there's no cycles, you can't. So for

812
00:40:56,160 --> 00:41:00,359
DAGs, uh

813
00:41:00,640 --> 00:41:06,960
walks equal paths,

814
00:41:04,720 --> 00:41:08,800
which is nice. So

815
00:41:06,960 --> 00:41:10,640
for the rest of today, I don't have to

816
00:41:08,800 --> 00:41:12,480
reme remember which is which, but I'll

817
00:41:10,640 --> 00:41:14,720
try to be a little bit careful if I need

818
00:41:12,480 --> 00:41:17,119
something.

819
00:41:14,720 --> 00:41:21,200
So uh let's just take the longest or a

820
00:41:17,119 --> 00:41:24,160
longest path in the DAG. So let's say it

821
00:41:21,200 --> 00:41:25,839
starts at v 0

822
00:41:24,160 --> 00:41:29,520
to v1

823
00:41:25,839 --> 00:41:34,839
and goes up to v k

824
00:41:29,520 --> 00:41:34,839
as usual. Then the claim is

825
00:41:35,280 --> 00:41:40,520
Uh, V 0 is a sync

826
00:41:40,960 --> 00:41:44,880
and VK

827
00:41:43,280 --> 00:41:46,560
sorry

828
00:41:44,880 --> 00:41:49,520
backwards.

829
00:41:46,560 --> 00:41:52,880
E0 is a source

830
00:41:49,520 --> 00:41:56,560
and VK is a sync

831
00:41:52,880 --> 00:41:59,440
and that so then we found it.

832
00:41:56,560 --> 00:42:02,440
Okay. Why? Uh, let me do a proof by

833
00:41:59,440 --> 00:42:02,440
picture.

834
00:42:03,200 --> 00:42:09,520
So here is our

835
00:42:06,960 --> 00:42:11,920
hypothetical longest path and I want to

836
00:42:09,520 --> 00:42:15,520
claim for example that v 0 is a source

837
00:42:11,920 --> 00:42:19,520
meaning there is no incoming edge into v

838
00:42:15,520 --> 00:42:21,119
0 in degree is zero. Well let's prove it

839
00:42:19,520 --> 00:42:24,079
by contradiction. Suppose there was some

840
00:42:21,119 --> 00:42:26,000
vertex here u and there was an edge from

841
00:42:24,079 --> 00:42:28,880
u to v 0.

842
00:42:26,000 --> 00:42:31,440
This is for contradiction.

843
00:42:28,880 --> 00:42:33,599
Imagine that this happens. Well, then

844
00:42:31,440 --> 00:42:36,160
that looks like a longer path in the

845
00:42:33,599 --> 00:42:39,280
graph. How could it not be a longer

846
00:42:36,160 --> 00:42:41,520
path? Well, maybe it cycles. Maybe this

847
00:42:39,280 --> 00:42:43,599
vertex u was actually one of these other

848
00:42:41,520 --> 00:42:45,680
visi.

849
00:42:43,599 --> 00:42:49,280
Uh but it can't be because our graph is

850
00:42:45,680 --> 00:42:53,200
as cyclic. So either

851
00:42:49,280 --> 00:42:56,599
uh we get a cycle which contradicts that

852
00:42:53,200 --> 00:42:56,599
we're a DAG

853
00:42:58,560 --> 00:43:04,160
or we get a longer path

854
00:43:01,839 --> 00:43:08,440
in the graph

855
00:43:04,160 --> 00:43:08,440
which contradicts that we were longest.

856
00:43:08,960 --> 00:43:15,599
So either way we get a contradiction

857
00:43:12,480 --> 00:43:17,440
and that proves uh that v 0 is a source

858
00:43:15,599 --> 00:43:20,319
and exactly symmetric argument proves

859
00:43:17,440 --> 00:43:23,040
that vk is a sync. Cool. So these things

860
00:43:20,319 --> 00:43:27,280
exist.

861
00:43:23,040 --> 00:43:29,119
Now let's use them to construct

862
00:43:27,280 --> 00:43:31,119
a

863
00:43:29,119 --> 00:43:33,200
an order to getting dressed. I know you

864
00:43:31,119 --> 00:43:35,200
you've been wondering this the answer to

865
00:43:33,200 --> 00:43:38,640
this gripping question. How should I get

866
00:43:35,200 --> 00:43:42,240
dressed every morning? Finally in 61200

867
00:43:38,640 --> 00:43:45,119
I learned how to do it

868
00:43:42,240 --> 00:43:46,720
for any graph.

869
00:43:45,119 --> 00:43:49,680
Uh

870
00:43:46,720 --> 00:43:53,119
the idea algorithmically is very simple.

871
00:43:49,680 --> 00:43:56,160
If you want a topological order for your

872
00:43:53,119 --> 00:43:58,319
graph, what should I start with? A

873
00:43:56,160 --> 00:44:00,800
source seems good. Source has nothing

874
00:43:58,319 --> 00:44:03,359
that has to come before it. So any one

875
00:44:00,800 --> 00:44:05,760
of these would be a valid first step. So

876
00:44:03,359 --> 00:44:08,560
the algorithm is just take any source,

877
00:44:05,760 --> 00:44:10,880
do that first, then conceptually remove

878
00:44:08,560 --> 00:44:15,280
that vertex to represent that it's been

879
00:44:10,880 --> 00:44:17,680
finished and then find another source.

880
00:44:15,280 --> 00:44:21,200
And because from this lema there's

881
00:44:17,680 --> 00:44:23,280
always a source, you never get stuck. So

882
00:44:21,200 --> 00:44:26,160
you can just keep going and eventually

883
00:44:23,280 --> 00:44:28,160
you'll have done executed every task. So

884
00:44:26,160 --> 00:44:30,480
for let's do it um briefly on this

885
00:44:28,160 --> 00:44:33,839
example. Say we uh we do right sock

886
00:44:30,480 --> 00:44:36,319
first and we up we see if there are any

887
00:44:33,839 --> 00:44:37,920
new sources. Uh I think there are not.

888
00:44:36,319 --> 00:44:41,520
This is still not a source because it

889
00:44:37,920 --> 00:44:44,160
has an incoming edge one left. Uh then

890
00:44:41,520 --> 00:44:46,880
maybe we do our pants. Put those on.

891
00:44:44,160 --> 00:44:48,800
Seems like a good idea. Now we can put

892
00:44:46,880 --> 00:44:50,400
on our right shoe. Finally. Been waiting

893
00:44:48,800 --> 00:44:51,760
for that right shoe because there's no

894
00:44:50,400 --> 00:44:53,760
more incoming edges because we've

895
00:44:51,760 --> 00:44:55,440
eliminated we've finished the tasks from

896
00:44:53,760 --> 00:44:58,960
before. So, if I write down the

897
00:44:55,440 --> 00:45:01,839
ordering, it would be right sock,

898
00:44:58,960 --> 00:45:06,040
then pants.

899
00:45:01,839 --> 00:45:06,040
Uh, now I'm going to do right shoe.

900
00:45:07,440 --> 00:45:14,680
Uh, then I don't know, I'm lazy. Let's

901
00:45:09,760 --> 00:45:14,680
do left sock and left shoe next.

902
00:45:18,800 --> 00:45:22,560
Then, uh, let's see the at this point

903
00:45:21,280 --> 00:45:25,599
I've eliminated the left half of the

904
00:45:22,560 --> 00:45:27,359
graph. only source is shirt. So I have

905
00:45:25,599 --> 00:45:29,920
to do shirt next. I had a lot of choices

906
00:45:27,359 --> 00:45:32,800
up till now but that that choice is

907
00:45:29,920 --> 00:45:35,040
forced. Uh after I've eliminated these

908
00:45:32,800 --> 00:45:37,599
two this becomes a source and this

909
00:45:35,040 --> 00:45:40,079
becomes a source.

910
00:45:37,599 --> 00:45:43,359
So I can choose belt or jacket first.

911
00:45:40,079 --> 00:45:46,640
Let's do belt.

912
00:45:43,359 --> 00:45:50,319
Still can't do uh winter coat because I

913
00:45:46,640 --> 00:45:52,720
need to do scarf before it. Uh so jacket

914
00:45:50,319 --> 00:45:56,119
is the only source at this point.

915
00:45:52,720 --> 00:45:56,119
So do that.

916
00:45:57,040 --> 00:46:01,119
I think you get the idea. Now I could do

917
00:45:59,440 --> 00:46:05,040
hat for example both the source and a

918
00:46:01,119 --> 00:46:07,839
sync. Um I can do scarf and then finally

919
00:46:05,040 --> 00:46:09,839
I can do winter coat. So that was a

920
00:46:07,839 --> 00:46:12,160
valid execution order or valid

921
00:46:09,839 --> 00:46:14,640
topological ordering.

922
00:46:12,160 --> 00:46:16,640
Cool. Let's uh prove that this always

923
00:46:14,640 --> 00:46:19,839
works a little more carefully uh using

924
00:46:16,640 --> 00:46:22,640
induction instead of an algorithm

925
00:46:19,839 --> 00:46:25,359
because this is more of a math class

926
00:46:22,640 --> 00:46:28,480
than a algorithms class though of course

927
00:46:25,359 --> 00:46:31,280
we talk about both

928
00:46:28,480 --> 00:46:34,839
but I think it's good to get more uh

929
00:46:31,280 --> 00:46:34,839
induction practice

930
00:46:37,359 --> 00:46:40,359
so

931
00:46:40,800 --> 00:46:44,240
in particular induction with graphs is

932
00:46:42,400 --> 00:46:46,240
still a pretty new thing. But again,

933
00:46:44,240 --> 00:46:48,720
induction about graphs is always

934
00:46:46,240 --> 00:46:50,480
induction or some regular induction over

935
00:46:48,720 --> 00:46:52,880
natural numbers. So we're going to do

936
00:46:50,480 --> 00:46:54,319
induction on the number of vertices in

937
00:46:52,880 --> 00:46:59,280
the graph, which is how we normally do

938
00:46:54,319 --> 00:47:02,240
it. So our uh p of n is that every dag

939
00:46:59,280 --> 00:47:03,599
with n vertices has a topological order.

940
00:47:02,240 --> 00:47:07,280
We're going to assume by induction that

941
00:47:03,599 --> 00:47:10,560
all smaller n have this property and

942
00:47:07,280 --> 00:47:14,000
prove it for n or prove it for v size of

943
00:47:10,560 --> 00:47:17,200
v. So what is the smallest

944
00:47:14,000 --> 00:47:18,640
that size of V can be?

945
00:47:17,200 --> 00:47:20,400
Uh well I didn't put it in the

946
00:47:18,640 --> 00:47:22,800
definition but I meant to say V has to

947
00:47:20,400 --> 00:47:24,560
be at least one as before. We don't

948
00:47:22,800 --> 00:47:26,400
allow the empty graph with no vertices.

949
00:47:24,560 --> 00:47:29,040
You have to have at least one vertex. So

950
00:47:26,400 --> 00:47:34,240
smallest graph has one vertex. So here

951
00:47:29,040 --> 00:47:36,319
it is. Uh I guess yeah uh I mean in a

952
00:47:34,240 --> 00:47:39,040
directed graph you could have a loop

953
00:47:36,319 --> 00:47:42,400
here but that's that's a cycle. So not

954
00:47:39,040 --> 00:47:45,680
allowed. In a DAG, there's only one

955
00:47:42,400 --> 00:47:49,280
graph of one vertex. It's that one.

956
00:47:45,680 --> 00:47:50,880
Let's call this A. The ordering is A. It

957
00:47:49,280 --> 00:47:53,040
satisfies all the properties. Okay,

958
00:47:50,880 --> 00:47:56,359
that's their topological order. So, this

959
00:47:53,040 --> 00:47:56,359
is easy.

960
00:47:56,480 --> 00:48:02,480
More interesting is the induction step.

961
00:48:00,480 --> 00:48:07,280
So, uh now we can assume that D is at

962
00:48:02,480 --> 00:48:08,880
least two bigger than the base case.

963
00:48:07,280 --> 00:48:11,440
Uh

964
00:48:08,880 --> 00:48:12,960
so what should we do? Well, we have this

965
00:48:11,440 --> 00:48:15,680
nice lema that tells us there's a

966
00:48:12,960 --> 00:48:17,520
source. So whereas the algorithm took a

967
00:48:15,680 --> 00:48:20,079
source and then had to do more work to

968
00:48:17,520 --> 00:48:22,319
continue, we can just take one source

969
00:48:20,079 --> 00:48:25,520
and then use induction.

970
00:48:22,319 --> 00:48:29,000
So uh

971
00:48:25,520 --> 00:48:29,000
by the lema

972
00:48:29,440 --> 00:48:35,280
there exists a source

973
00:48:31,680 --> 00:48:37,680
let's call it s and the intuition is I

974
00:48:35,280 --> 00:48:39,440
want to do s first.

975
00:48:37,680 --> 00:48:42,160
Okay. But to figure out how to do the

976
00:48:39,440 --> 00:48:48,880
rest of the graph, I can use induction.

977
00:48:42,160 --> 00:48:52,240
So let's uh let G prime be G minus S.

978
00:48:48,880 --> 00:48:54,240
Remember this was the graph. G minus S

979
00:48:52,240 --> 00:48:56,960
was the graph induced by the subset of

980
00:48:54,240 --> 00:48:59,520
vertices. That's everything except S. So

981
00:48:56,960 --> 00:49:02,160
in other words, erase the vertex S and

982
00:48:59,520 --> 00:49:04,160
all of its incident edges, which in this

983
00:49:02,160 --> 00:49:06,880
case will only be outgoing edges. So

984
00:49:04,160 --> 00:49:11,839
here we have s and there's some outgoing

985
00:49:06,880 --> 00:49:14,160
edges into g prime and g is this whole

986
00:49:11,839 --> 00:49:17,359
graph.

987
00:49:14,160 --> 00:49:21,200
Okay so the point is um number of

988
00:49:17,359 --> 00:49:23,440
vertices in g prime is one less than the

989
00:49:21,200 --> 00:49:26,319
number of vertices in g. We just removed

990
00:49:23,440 --> 00:49:30,160
s everyone else is there.

991
00:49:26,319 --> 00:49:34,160
Uh but in particular g prime is smaller

992
00:49:30,160 --> 00:49:38,119
than g was. So we can use induction

993
00:49:34,160 --> 00:49:38,119
by the induction hypothesis.

994
00:49:38,400 --> 00:49:44,559
Uh G prime satisfies this. I guess we

995
00:49:42,079 --> 00:49:46,079
also need to check G prime is a DAG. But

996
00:49:44,559 --> 00:49:49,839
if you remove a vertex, you're not going

997
00:49:46,079 --> 00:49:55,079
to add any cycles. So that's cool.

998
00:49:49,839 --> 00:49:55,079
Uh so G prime is a smaller DAG

999
00:49:55,200 --> 00:49:59,760
according to the measure of number of

1000
00:49:56,880 --> 00:50:04,559
vertices. So by induction hypothesis, it

1001
00:49:59,760 --> 00:50:07,520
has a topological order. G prime has

1002
00:50:04,559 --> 00:50:14,640
topological order.

1003
00:50:07,520 --> 00:50:16,880
Let's call it uh vub1 v2 up to v sub I

1004
00:50:14,640 --> 00:50:18,480
guess number of vertices minus one.

1005
00:50:16,880 --> 00:50:20,800
That's how many vertices there are. So I

1006
00:50:18,480 --> 00:50:23,359
can you by induction I get an explicit

1007
00:50:20,800 --> 00:50:26,720
ordering of all those vertices. And now

1008
00:50:23,359 --> 00:50:29,040
I just put s first

1009
00:50:26,720 --> 00:50:36,000
before all of those. So we get s comma

1010
00:50:29,040 --> 00:50:40,640
v1 v2 and so on v sub v minus one. Uh

1011
00:50:36,000 --> 00:50:43,920
this is a topological order

1012
00:50:40,640 --> 00:50:46,160
of g and this is where I guess you have

1013
00:50:43,920 --> 00:50:48,960
to actually check something.

1014
00:50:46,160 --> 00:50:50,400
So I claim it's okay to put s before all

1015
00:50:48,960 --> 00:50:52,800
these other vertices and that will be a

1016
00:50:50,400 --> 00:50:54,800
valid ordering. uh intuitively because S

1017
00:50:52,800 --> 00:50:56,720
has nothing that has to happen before

1018
00:50:54,800 --> 00:50:58,559
it. So if you check the constraint of a

1019
00:50:56,720 --> 00:51:00,720
topological ordering, every vertex

1020
00:50:58,559 --> 00:51:03,200
that's listed must appear before all

1021
00:51:00,720 --> 00:51:04,960
vertices that it can reach. Well, S

1022
00:51:03,200 --> 00:51:06,480
definitely appears before all vertices

1023
00:51:04,960 --> 00:51:08,400
it can reach because it appears before

1024
00:51:06,480 --> 00:51:10,559
all vertices.

1025
00:51:08,400 --> 00:51:12,800
And the other vertices are also okay

1026
00:51:10,559 --> 00:51:15,119
like V2 or V1 let's say appears before

1027
00:51:12,800 --> 00:51:16,720
all the vertices it can reach because

1028
00:51:15,119 --> 00:51:18,800
all the vertices it can reach it's

1029
00:51:16,720 --> 00:51:20,480
inside G prime. Once you're inside G

1030
00:51:18,800 --> 00:51:22,559
prime, you can't escape. you can't get

1031
00:51:20,480 --> 00:51:24,160
back to S,

1032
00:51:22,559 --> 00:51:26,720
right? It's like in a different strongly

1033
00:51:24,160 --> 00:51:29,119
connected component. Uh any vertex down

1034
00:51:26,720 --> 00:51:31,920
here, which is all of the V1 through VV

1035
00:51:29,119 --> 00:51:34,319
minus one, cannot reach S because it

1036
00:51:31,920 --> 00:51:36,079
only has outgoing edges. And so they

1037
00:51:34,319 --> 00:51:37,520
also appear before all the vertices they

1038
00:51:36,079 --> 00:51:41,559
can reach because all the vertices they

1039
00:51:37,520 --> 00:51:41,559
can reach are within G prime.

1040
00:51:42,880 --> 00:51:50,160
So great. Now given a set of tasks with

1041
00:51:47,440 --> 00:51:52,000
precedence constraints, you can find a

1042
00:51:50,160 --> 00:51:54,559
valid ordering

1043
00:51:52,000 --> 00:51:57,119
so you can get dressed in the morning.

1044
00:51:54,559 --> 00:51:59,280
But uh you know we're most of us are

1045
00:51:57,119 --> 00:52:03,760
computer scientists and so often we're

1046
00:51:59,280 --> 00:52:05,680
not just one computer or one uh agent

1047
00:52:03,760 --> 00:52:07,520
executing a bunch of tasks but maybe we

1048
00:52:05,680 --> 00:52:10,160
have many computers to execute our

1049
00:52:07,520 --> 00:52:12,800
tasks. What if we allow parallelism? Can

1050
00:52:10,160 --> 00:52:14,160
we do this any faster? You imagine you

1051
00:52:12,800 --> 00:52:17,200
want to get dressed, but you have a

1052
00:52:14,160 --> 00:52:19,040
crazy uh Rube Goldberg style machine

1053
00:52:17,200 --> 00:52:21,119
that can put on many garments all at

1054
00:52:19,040 --> 00:52:22,800
once. So maybe then you can do left and

1055
00:52:21,119 --> 00:52:25,280
right sock in parallel. If I had four

1056
00:52:22,800 --> 00:52:26,720
arms, I would do that. Maybe even three

1057
00:52:25,280 --> 00:52:29,760
arms. I don't know. That's a good

1058
00:52:26,720 --> 00:52:33,200
question. Okay. So let's think about

1059
00:52:29,760 --> 00:52:37,440
that version where

1060
00:52:33,200 --> 00:52:39,200
uh we can do parallel task execution.

1061
00:52:37,440 --> 00:52:41,440
Then I'd like to do it as fast as

1062
00:52:39,200 --> 00:52:44,960
possible.

1063
00:52:41,440 --> 00:52:46,720
If I'm just a measly single processor

1064
00:52:44,960 --> 00:52:47,920
and I want to execute the tasks in this

1065
00:52:46,720 --> 00:52:49,040
graph, well, the number of steps it

1066
00:52:47,920 --> 00:52:50,559
takes me is exactly the number of

1067
00:52:49,040 --> 00:52:53,119
vertices. No matter how I do it, it

1068
00:52:50,559 --> 00:52:56,160
doesn't really matter which ordering I

1069
00:52:53,119 --> 00:52:57,920
choose in terms of speed, assuming, I

1070
00:52:56,160 --> 00:53:00,880
don't know, assuming instantaneous

1071
00:52:57,920 --> 00:53:03,280
switching time between different tasks.

1072
00:53:00,880 --> 00:53:06,839
Okay. But with parallel task scheduling,

1073
00:53:03,280 --> 00:53:06,839
you can do more.

1074
00:53:13,520 --> 00:53:17,920
So let me first define the problem a

1075
00:53:15,280 --> 00:53:21,079
little bit um and then we'll prove a

1076
00:53:17,920 --> 00:53:21,079
nice theorem.

1077
00:53:24,400 --> 00:53:28,000
So I want to define a schedule to say

1078
00:53:26,559 --> 00:53:30,480
basically what order you should do the

1079
00:53:28,000 --> 00:53:34,319
tasks in. But now I'm allowing multiple

1080
00:53:30,480 --> 00:53:37,359
tasks to be scheduled at the same time.

1081
00:53:34,319 --> 00:53:40,760
So a schedule is going to assign

1082
00:53:37,359 --> 00:53:40,760
what time

1083
00:53:40,800 --> 00:53:45,280
uh t of v it's going to be a natural

1084
00:53:43,599 --> 00:53:49,160
number

1085
00:53:45,280 --> 00:53:49,160
uh to each vertex

1086
00:53:49,280 --> 00:53:52,280
v

1087
00:53:54,240 --> 00:54:00,319
and

1088
00:53:57,200 --> 00:54:04,440
it needs to satisfy the property that uh

1089
00:54:00,319 --> 00:54:04,440
if u can reach V

1090
00:54:05,119 --> 00:54:10,880
and U does not equal V,

1091
00:54:08,000 --> 00:54:12,400
then uh the time that we schedule U has

1092
00:54:10,880 --> 00:54:15,359
to be strictly less than the time we

1093
00:54:12,400 --> 00:54:17,359
schedule V.

1094
00:54:15,359 --> 00:54:20,000
This is the analog of topological

1095
00:54:17,359 --> 00:54:22,160
ordering except now I can assign the

1096
00:54:20,000 --> 00:54:24,640
same time to multiple tasks. So maybe I

1097
00:54:22,160 --> 00:54:26,480
do a bunch of tasks at test at time zero

1098
00:54:24,640 --> 00:54:28,319
as long as none of them has to happen

1099
00:54:26,480 --> 00:54:29,839
before another. Then I could do a bunch

1100
00:54:28,319 --> 00:54:35,359
of tasks at time one, a bunch of tasks

1101
00:54:29,839 --> 00:54:39,680
at time two, and so on. And the um I'll

1102
00:54:35,359 --> 00:54:44,119
call it the span of the schedule is the

1103
00:54:39,680 --> 00:54:44,119
number of distinct times

1104
00:54:47,520 --> 00:54:51,920
t of v. So I can look at all the

1105
00:54:50,000 --> 00:54:54,480
different times assigned to the vertices

1106
00:54:51,920 --> 00:54:56,880
and if I use 17 different times, my span

1107
00:54:54,480 --> 00:55:00,000
is 17. span is a measure of how long it

1108
00:54:56,880 --> 00:55:01,680
takes to execute schedule. Uh here I'm

1109
00:55:00,000 --> 00:55:03,680
assuming an unlimited number of

1110
00:55:01,680 --> 00:55:05,839
processors. I can do all the tasks at

1111
00:55:03,680 --> 00:55:07,440
once if I need if I'm allowed to. If I

1112
00:55:05,839 --> 00:55:08,800
have no edges in my graph, I'll just do

1113
00:55:07,440 --> 00:55:11,440
everything in time zero and it'll be

1114
00:55:08,800 --> 00:55:13,200
done. And that will be a span of one.

1115
00:55:11,440 --> 00:55:14,880
There's only one time that value that I

1116
00:55:13,200 --> 00:55:16,640
needed. But in general, we're going to

1117
00:55:14,880 --> 00:55:18,640
need more, right? I can't do left sock

1118
00:55:16,640 --> 00:55:20,559
and left shoe at the same time because

1119
00:55:18,640 --> 00:55:23,520
left sock has to happen strictly before

1120
00:55:20,559 --> 00:55:25,119
left shoe. That's what this says. If one

1121
00:55:23,520 --> 00:55:28,079
vertex can reach another vertex that's

1122
00:55:25,119 --> 00:55:29,760
different, then the time assigned to the

1123
00:55:28,079 --> 00:55:32,319
the earlier precedent has to be strictly

1124
00:55:29,760 --> 00:55:36,800
less than the later one. Okay, so that's

1125
00:55:32,319 --> 00:55:38,880
the definition of the problem. And now

1126
00:55:36,800 --> 00:55:43,760
there's a nice theorem

1127
00:55:38,880 --> 00:55:46,760
says uh the minimum possible span of any

1128
00:55:43,760 --> 00:55:46,760
schedule.

1129
00:55:52,480 --> 00:55:56,559
So certainly a schedule like this

1130
00:55:53,920 --> 00:55:59,280
exists, right? We could do the one given

1131
00:55:56,559 --> 00:56:01,599
by the topological order. We could do

1132
00:55:59,280 --> 00:56:03,839
right sock in time zero, pants in time

1133
00:56:01,599 --> 00:56:06,079
one, right shoe in time two. Like we

1134
00:56:03,839 --> 00:56:08,480
could do this sequentially, one task at

1135
00:56:06,079 --> 00:56:10,079
a time. But if I want to minimize the

1136
00:56:08,480 --> 00:56:13,599
span, I want to do lots of things in

1137
00:56:10,079 --> 00:56:16,559
parallel. Uh this is equal to the number

1138
00:56:13,599 --> 00:56:20,799
of vertices

1139
00:56:16,559 --> 00:56:23,280
in a longest path in the graph.

1140
00:56:20,799 --> 00:56:25,839
So very simple characterization of how

1141
00:56:23,280 --> 00:56:29,640
long this takes.

1142
00:56:25,839 --> 00:56:29,640
Uh in this example

1143
00:56:32,880 --> 00:56:44,640
I think the longest path is shirt to

1144
00:56:36,640 --> 00:56:47,520
jacket to scarf to coat. So that was uh

1145
00:56:44,640 --> 00:56:50,400
that's a path of length one,

1146
00:56:47,520 --> 00:56:51,839
two, three.

1147
00:56:50,400 --> 00:56:52,960
But what I wrote there is not the length

1148
00:56:51,839 --> 00:56:55,920
of the path. I wrote the number of

1149
00:56:52,960 --> 00:56:57,280
vertices in the path and that's four. So

1150
00:56:55,920 --> 00:56:58,880
this is the one time when we want to

1151
00:56:57,280 --> 00:57:00,640
count vertices, not edges. So I write

1152
00:56:58,880 --> 00:57:03,359
number of vertices in the longest path.

1153
00:57:00,640 --> 00:57:06,079
It was shirt, jacket, scarf, winter

1154
00:57:03,359 --> 00:57:07,680
coat. So that's four. And so I claim

1155
00:57:06,079 --> 00:57:10,079
this

1156
00:57:07,680 --> 00:57:11,839
uh

1157
00:57:10,079 --> 00:57:15,280
this set of tasks can be executed in

1158
00:57:11,839 --> 00:57:18,799
just four steps, four rounds of parallel

1159
00:57:15,280 --> 00:57:20,720
execution. Namely,

1160
00:57:18,799 --> 00:57:24,040
I think I need another color. Let me see

1161
00:57:20,720 --> 00:57:24,040
what I brought.

1162
00:57:26,559 --> 00:57:29,880
Oh, purple.

1163
00:57:30,079 --> 00:57:35,760
Okay, so how I do it is actually pretty

1164
00:57:33,359 --> 00:57:38,400
intuitive. I just want to take all the

1165
00:57:35,760 --> 00:57:40,160
sources at each step. So in the

1166
00:57:38,400 --> 00:57:43,040
beginning I had four sources. I'm going

1167
00:57:40,160 --> 00:57:44,880
to do all of those at time zero. Then

1168
00:57:43,040 --> 00:57:47,280
what's the source? Uh this becomes a

1169
00:57:44,880 --> 00:57:48,960
source because both left sock and pants

1170
00:57:47,280 --> 00:57:50,319
were done in the previous step. This

1171
00:57:48,960 --> 00:57:52,400
becomes a source because right sock and

1172
00:57:50,319 --> 00:57:54,160
pants were done in the previous step. Uh

1173
00:57:52,400 --> 00:57:56,240
this becomes a source and this becomes a

1174
00:57:54,160 --> 00:57:58,559
source. I think that's it. So then in

1175
00:57:56,240 --> 00:58:02,160
the second step I'm going to do all

1176
00:57:58,559 --> 00:58:06,079
these everything above that purple line.

1177
00:58:02,160 --> 00:58:07,760
And then uh hat becomes a source, scarf

1178
00:58:06,079 --> 00:58:10,400
becomes a source, but winter coat is

1179
00:58:07,760 --> 00:58:12,799
still being annoying. So we do

1180
00:58:10,400 --> 00:58:14,720
everything above that line. And then in

1181
00:58:12,799 --> 00:58:17,680
the fourth round, we just do winter

1182
00:58:14,720 --> 00:58:20,480
coat.

1183
00:58:17,680 --> 00:58:22,480
Okay, so that's the algorithm. But let's

1184
00:58:20,480 --> 00:58:24,799
uh

1185
00:58:22,480 --> 00:58:27,200
let's prove it's not obvious that this

1186
00:58:24,799 --> 00:58:29,040
algorithm takes exactly the longest path

1187
00:58:27,200 --> 00:58:31,520
time. And there's a nice elegant proof

1188
00:58:29,040 --> 00:58:35,240
of it.

1189
00:58:31,520 --> 00:58:35,240
Let's go back here.

1190
00:58:49,200 --> 00:58:54,400
So um in general when we want to prove

1191
00:58:51,839 --> 00:58:56,400
that two numbers are equal usually we do

1192
00:58:54,400 --> 00:58:57,760
it in two parts. We prove that one

1193
00:58:56,400 --> 00:58:59,839
number is greater than equal to the

1194
00:58:57,760 --> 00:59:01,760
other and the one number is less than or

1195
00:58:59,839 --> 00:59:04,160
equal to the other. seen that a couple

1196
00:59:01,760 --> 00:59:06,319
of times I think and this is definitely

1197
00:59:04,160 --> 00:59:08,319
one of those situations. So first let's

1198
00:59:06,319 --> 00:59:10,799
think about why is the minimum span of a

1199
00:59:08,319 --> 00:59:12,960
schedule at least the number of vertices

1200
00:59:10,799 --> 00:59:15,280
in the longest path.

1201
00:59:12,960 --> 00:59:18,079
Well that makes sense because if I just

1202
00:59:15,280 --> 00:59:22,079
think about uh this longest path you

1203
00:59:18,079 --> 00:59:24,720
know it's some sequence of vertices

1204
00:59:22,079 --> 00:59:27,119
and let's say it has length L. So we

1205
00:59:24,720 --> 00:59:30,319
start at number one or it has L

1206
00:59:27,119 --> 00:59:32,319
different vertices in it. Well, in the

1207
00:59:30,319 --> 00:59:34,160
first round, uh, just looking at this

1208
00:59:32,319 --> 00:59:35,839
path, the first round, the only thing I

1209
00:59:34,160 --> 00:59:37,119
can do is the first vertex in the path.

1210
00:59:35,839 --> 00:59:39,119
In the second round, the only thing I

1211
00:59:37,119 --> 00:59:40,799
can do is the second one. Like to

1212
00:59:39,119 --> 00:59:44,480
execute this path clearly requires at

1213
00:59:40,799 --> 00:59:49,440
least L time steps, right? So, this is

1214
00:59:44,480 --> 00:59:51,440
just to schedule the longest path,

1215
00:59:49,440 --> 00:59:53,119
you certainly need the number of

1216
00:59:51,440 --> 00:59:56,480
vertices

1217
00:59:53,119 --> 00:59:58,880
of that path.

1218
00:59:56,480 --> 01:00:00,799
That's a bit handwavy, but pretty

1219
00:59:58,880 --> 01:00:02,559
intuitive. The interesting part is the

1220
01:00:00,799 --> 01:00:05,119
other direction. So let's suppose I

1221
01:00:02,559 --> 01:00:08,640
found the longest path and it has L

1222
01:00:05,119 --> 01:00:12,079
vertices. I claim that I can achieve I

1223
01:00:08,640 --> 01:00:16,960
can find a schedule that does that that

1224
01:00:12,079 --> 01:00:19,520
is that fast. And here it is.

1225
01:00:16,960 --> 01:00:21,359
Given a vertex, we're going to define

1226
01:00:19,520 --> 01:00:23,280
its depth

1227
01:00:21,359 --> 01:00:27,440
to be

1228
01:00:23,280 --> 01:00:33,400
uh the length

1229
01:00:27,440 --> 01:00:33,400
of longest path ending at V

1230
01:00:34,960 --> 01:00:40,880
or say I guess 2V. So it can start

1231
01:00:38,079 --> 01:00:44,160
anywhere, but I want the a longest path

1232
01:00:40,880 --> 01:00:45,680
that ends at V.

1233
01:00:44,160 --> 01:00:47,359
Okay. Okay. And I'm going to here I'll

1234
01:00:45,680 --> 01:00:48,720
use length measuring the number of edges

1235
01:00:47,359 --> 01:00:53,839
as usual because it doesn't really

1236
01:00:48,720 --> 01:00:59,480
matter. So I claim uh

1237
01:00:53,839 --> 01:00:59,480
that uh depth is a schedule

1238
01:01:00,400 --> 01:01:06,160
and that it has the right span

1239
01:01:04,079 --> 01:01:10,480
uh because depth assigns a natural

1240
01:01:06,160 --> 01:01:14,000
number 012 whatever uh to every vertex

1241
01:01:10,480 --> 01:01:17,559
and I claim it is a valid schedule.

1242
01:01:14,000 --> 01:01:17,559
Let's prove that.

1243
01:01:25,280 --> 01:01:30,799
Okay. So what does it mean to be a valid

1244
01:01:27,359 --> 01:01:33,440
schedule? It says that uh if I have two

1245
01:01:30,799 --> 01:01:35,200
vertices u and v where u can reach v and

1246
01:01:33,440 --> 01:01:37,680
u is different from v then I have to

1247
01:01:35,200 --> 01:01:39,520
prove that depth of u is less than depth

1248
01:01:37,680 --> 01:01:43,760
of v.

1249
01:01:39,520 --> 01:01:48,240
So uh suppose

1250
01:01:43,760 --> 01:01:53,119
uh u can reach

1251
01:01:48,240 --> 01:01:55,280
v and suppose v does not equal u.

1252
01:01:53,119 --> 01:01:57,520
We want to show

1253
01:01:55,280 --> 01:02:00,240
uh depth

1254
01:01:57,520 --> 01:02:01,599
of u is strictly less than depth of v.

1255
01:02:00,240 --> 01:02:04,599
This is what it means to be a valid

1256
01:02:01,599 --> 01:02:04,599
schedule.

1257
01:02:04,880 --> 01:02:07,880
Okay.

1258
01:02:09,040 --> 01:02:15,599
So, uh what does it mean that U can

1259
01:02:13,280 --> 01:02:18,079
reach V?

1260
01:02:15,599 --> 01:02:20,400
We still have the definition over here.

1261
01:02:18,079 --> 01:02:22,319
V is reachable from U or U can reach V

1262
01:02:20,400 --> 01:02:24,640
if there exists a walk from U to V or

1263
01:02:22,319 --> 01:02:26,799
for DAGs it's the same as or in general

1264
01:02:24,640 --> 01:02:31,119
it's the same as there exists a path

1265
01:02:26,799 --> 01:02:33,359
from U to V. So uh we know that there

1266
01:02:31,119 --> 01:02:36,480
exists a path

1267
01:02:33,359 --> 01:02:43,799
let's call it uh p uv

1268
01:02:36,480 --> 01:02:43,799
from u to v that's the meaning of ukv

1269
01:02:44,000 --> 01:02:49,760
uh and

1270
01:02:45,760 --> 01:02:52,799
we also know that it has length

1271
01:02:49,760 --> 01:02:54,960
greater than zero.

1272
01:02:52,799 --> 01:02:58,160
Why? Because these vertices are

1273
01:02:54,960 --> 01:03:00,960
different and there are no cycles.

1274
01:02:58,160 --> 01:03:02,640
uh I guess the only way to have a length

1275
01:03:00,960 --> 01:03:04,880
zero path is if you start and end at the

1276
01:03:02,640 --> 01:03:08,000
same vertex but if v is different from

1277
01:03:04,880 --> 01:03:09,839
you that path has to have uh nonzero

1278
01:03:08,000 --> 01:03:11,760
length this will be important in a

1279
01:03:09,839 --> 01:03:14,720
moment

1280
01:03:11,760 --> 01:03:18,880
okay let's see what else do we know we

1281
01:03:14,720 --> 01:03:20,400
also know uh or we know that there's a

1282
01:03:18,880 --> 01:03:25,160
path

1283
01:03:20,400 --> 01:03:25,160
uh there's a longest path

1284
01:03:26,160 --> 01:03:33,520
pu to uh to u

1285
01:03:31,359 --> 01:03:36,799
my my words are starting to sound like

1286
01:03:33,520 --> 01:03:39,680
numbers. Uh this to o

1287
01:03:36,799 --> 01:03:41,680
um right that's the definition of depth.

1288
01:03:39,680 --> 01:03:44,400
Depth is the length of the longest path

1289
01:03:41,680 --> 01:03:46,720
that ends at that vertex. So let's just

1290
01:03:44,400 --> 01:03:50,720
take that longest path.

1291
01:03:46,720 --> 01:03:53,359
Uh so this one has length

1292
01:03:50,720 --> 01:03:56,920
exactly depth of u. That's the

1293
01:03:53,359 --> 01:03:56,920
definition of depth.

1294
01:03:57,520 --> 01:04:02,559
It might be zero. Maybe the longest path

1295
01:04:00,079 --> 01:04:03,920
that ends at U. If U is a source, it's

1296
01:04:02,559 --> 01:04:06,640
just the path that starts at U and

1297
01:04:03,920 --> 01:04:09,200
doesn't do anything. But it's there is

1298
01:04:06,640 --> 01:04:12,880
this path.

1299
01:04:09,200 --> 01:04:14,880
All right. Now, my big idea is

1300
01:04:12,880 --> 01:04:16,960
concatenate these two paths because here

1301
01:04:14,880 --> 01:04:18,559
we have a path that ends at U and here

1302
01:04:16,960 --> 01:04:20,880
we have a path that starts at U and goes

1303
01:04:18,559 --> 01:04:26,039
to V. So, obvious thing to do is glue

1304
01:04:20,880 --> 01:04:26,039
them together. Uh, so let's concatenate

1305
01:04:27,920 --> 01:04:38,319
uh and I'll call this p subv is going to

1306
01:04:31,280 --> 01:04:41,839
be uh p sub u comma p subuv. So do

1307
01:04:38,319 --> 01:04:45,039
follow the path pu follow the path puv

1308
01:04:41,839 --> 01:04:46,640
and the length of this path.

1309
01:04:45,039 --> 01:04:48,319
So first of all it's a path because this

1310
01:04:46,640 --> 01:04:50,160
one ended at u and this one starts at u.

1311
01:04:48,319 --> 01:04:51,520
So you can actually concatenate them.

1312
01:04:50,160 --> 01:04:53,680
The length is just going to be the sum

1313
01:04:51,520 --> 01:04:56,480
of these two lengths.

1314
01:04:53,680 --> 01:04:58,480
So it's it starts with a depth of view

1315
01:04:56,480 --> 01:05:01,280
number of edges and then it has at least

1316
01:04:58,480 --> 01:05:04,559
one more. So the length is strictly

1317
01:05:01,280 --> 01:05:07,839
greater than depth of U because it's

1318
01:05:04,559 --> 01:05:10,640
just the sum of these two numbers.

1319
01:05:07,839 --> 01:05:17,319
Okay. Now what do I know about this

1320
01:05:10,640 --> 01:05:17,319
path? It is a path that ends at V.

1321
01:05:17,760 --> 01:05:24,160
PV ends at V, right? Because if you look

1322
01:05:20,960 --> 01:05:27,200
at the last vertex it visits, it's V. So

1323
01:05:24,160 --> 01:05:29,760
this is a path that ends at V and it's

1324
01:05:27,200 --> 01:05:33,520
its length is this greater than depth of

1325
01:05:29,760 --> 01:05:35,359
U. Now depth of V is the length of the

1326
01:05:33,520 --> 01:05:37,280
longest path that ends at V. And the

1327
01:05:35,359 --> 01:05:39,280
longest path is it greater than or equal

1328
01:05:37,280 --> 01:05:42,160
to any particular path. So I found a

1329
01:05:39,280 --> 01:05:45,559
path here. That means that uh the

1330
01:05:42,160 --> 01:05:45,559
longest path

1331
01:05:46,319 --> 01:05:51,119
is greater than or equal to this one.

1332
01:05:51,520 --> 01:05:56,559
And that's strictly greater than depth

1333
01:05:54,160 --> 01:05:58,319
of U.

1334
01:05:56,559 --> 01:06:02,720
And the length of the longest path here

1335
01:05:58,319 --> 01:06:04,640
is equal to depth of V.

1336
01:06:02,720 --> 01:06:06,319
So I've proved that depth of V is

1337
01:06:04,640 --> 01:06:07,920
strictly greater than depth of U because

1338
01:06:06,319 --> 01:06:09,920
I found a path that was longer than

1339
01:06:07,920 --> 01:06:13,520
depth of U. Therefore, depth of V is

1340
01:06:09,920 --> 01:06:15,359
greater than depth of U. Okay,

1341
01:06:13,520 --> 01:06:17,920
so

1342
01:06:15,359 --> 01:06:20,000
that's cool. Uh there's one last thing

1343
01:06:17,920 --> 01:06:22,319
to check here. So I I proved that this

1344
01:06:20,000 --> 01:06:24,640
is a schedule

1345
01:06:22,319 --> 01:06:28,160
that it it processes things in a valid

1346
01:06:24,640 --> 01:06:31,119
order. But we also need to check uh how

1347
01:06:28,160 --> 01:06:32,960
many time steps does it take?

1348
01:06:31,119 --> 01:06:34,559
Why is it the number of vertices in the

1349
01:06:32,960 --> 01:06:37,119
longest path and not the number of edges

1350
01:06:34,559 --> 01:06:39,839
for example?

1351
01:06:37,119 --> 01:06:44,240
Okay, the span

1352
01:06:39,839 --> 01:06:49,200
of depth

1353
01:06:44,240 --> 01:06:52,599
I claim is one plus uh the

1354
01:06:49,200 --> 01:06:52,599
number of

1355
01:06:52,799 --> 01:07:00,119
one plus the length

1356
01:06:56,319 --> 01:07:00,119
of longest path.

1357
01:07:01,520 --> 01:07:04,880
This is what I wanted to prove because

1358
01:07:02,880 --> 01:07:06,559
length counts edges. So if I add one

1359
01:07:04,880 --> 01:07:08,319
more, that's the number of vertices in

1360
01:07:06,559 --> 01:07:12,160
the path. And that's exactly what this

1361
01:07:08,319 --> 01:07:14,160
theorem says. Uh why? Uh because if you

1362
01:07:12,160 --> 01:07:16,559
look at all the possible depths, they

1363
01:07:14,160 --> 01:07:18,880
start at zero, right? All the sources

1364
01:07:16,559 --> 01:07:21,280
are going to get depth zero. Uh and they

1365
01:07:18,880 --> 01:07:26,760
go one, two, and so on. And I claim they

1366
01:07:21,280 --> 01:07:26,760
end at the length of the longest path.

1367
01:07:28,960 --> 01:07:33,280
Why? Because what are the depths? The

1368
01:07:31,520 --> 01:07:35,760
depths are the length of the longest

1369
01:07:33,280 --> 01:07:37,839
path ending at a particular vertex. And

1370
01:07:35,760 --> 01:07:39,359
we do this for all the vertices. And so

1371
01:07:37,839 --> 01:07:41,280
the maximum value this is going to take

1372
01:07:39,359 --> 01:07:44,079
on is just whatever the globally longest

1373
01:07:41,280 --> 01:07:46,880
path is. It ends anywhere. Okay? So

1374
01:07:44,079 --> 01:07:49,039
that's why we max out here. And it's

1375
01:07:46,880 --> 01:07:51,200
plus one because we started at zero and

1376
01:07:49,039 --> 01:07:52,799
we ended here. So we have one through

1377
01:07:51,200 --> 01:07:54,000
length of longest path. That's length of

1378
01:07:52,799 --> 01:07:57,400
longest path. But then we have a plus

1379
01:07:54,000 --> 01:07:57,400
one for zero.

1380
01:07:59,920 --> 01:08:05,520
Okay? So that proves this theorem and

1381
01:08:02,960 --> 01:08:08,319
tells us how to optimally schedule if we

1382
01:08:05,520 --> 01:08:10,160
have an infinite number of processors or

1383
01:08:08,319 --> 01:08:14,599
not infinite but enough that we could do

1384
01:08:10,160 --> 01:08:14,599
all the tasks at once if we wanted to.

1385
01:08:15,760 --> 01:08:20,560
Cool.

1386
01:08:18,239 --> 01:08:23,600
Let me

1387
01:08:20,560 --> 01:08:25,839
recast these results in a slightly

1388
01:08:23,600 --> 01:08:28,000
different form

1389
01:08:25,839 --> 01:08:31,279
that's interesting and we'll connect to

1390
01:08:28,000 --> 01:08:31,279
the next lecture.

1391
01:08:53,440 --> 01:08:56,440
So,

1392
01:09:08,239 --> 01:09:14,159
let me give a couple of terms that are

1393
01:09:11,199 --> 01:09:17,040
uh concept called partial order which

1394
01:09:14,159 --> 01:09:19,520
we'll talk about next time

1395
01:09:17,040 --> 01:09:21,279
and they let us think about these kinds

1396
01:09:19,520 --> 01:09:23,600
of precedence relations in a different

1397
01:09:21,279 --> 01:09:26,719
way. So in particular there's this idea

1398
01:09:23,600 --> 01:09:28,640
that okay uh left sock and left shoe

1399
01:09:26,719 --> 01:09:32,239
they're related. Left sock has to happen

1400
01:09:28,640 --> 01:09:33,920
before left shoe. Uh right shoe and

1401
01:09:32,239 --> 01:09:36,239
pants are also related. Right shoe has

1402
01:09:33,920 --> 01:09:38,719
to happen after pants. Also winter coat

1403
01:09:36,239 --> 01:09:42,239
has to happen after pants. But for

1404
01:09:38,719 --> 01:09:43,600
example pants and shirt are unrelated

1405
01:09:42,239 --> 01:09:45,440
either. They could happen in either

1406
01:09:43,600 --> 01:09:47,600
order. There's no path from pants to

1407
01:09:45,440 --> 01:09:52,239
shirt. There's no path from shirt to

1408
01:09:47,600 --> 01:09:54,159
pants. So let's define uh a notion of

1409
01:09:52,239 --> 01:09:56,320
comparable

1410
01:09:54,159 --> 01:09:58,000
meaning they are there is a precedence

1411
01:09:56,320 --> 01:10:01,400
relation between them in one direction

1412
01:09:58,000 --> 01:10:01,400
or the other.

1413
01:10:12,000 --> 01:10:16,640
So either U is reachable from V or V is

1414
01:10:14,480 --> 01:10:19,199
reachable from U. In either case, we

1415
01:10:16,640 --> 01:10:21,199
call U and V comparable and otherwise

1416
01:10:19,199 --> 01:10:24,199
they're not comparable. These are

1417
01:10:21,199 --> 01:10:24,199
vertices.

1418
01:10:24,800 --> 01:10:31,440
All right. So there's two complimentary

1419
01:10:27,760 --> 01:10:34,159
notions I want to define. Chain

1420
01:10:31,440 --> 01:10:36,400
is a set of

1421
01:10:34,159 --> 01:10:39,600
pair-wise

1422
01:10:36,400 --> 01:10:42,600
or mutually comparable

1423
01:10:39,600 --> 01:10:42,600
vertices.

1424
01:10:47,199 --> 01:10:50,679
And an anti-chain

1425
01:10:53,679 --> 01:11:00,440
is a set of pair-wise incomparable

1426
01:11:06,800 --> 01:11:09,800
vertices.

1427
01:11:11,360 --> 01:11:15,360
Okay, so we're thinking about sets of

1428
01:11:12,880 --> 01:11:18,239
vertices, subsets of the whole graph

1429
01:11:15,360 --> 01:11:20,159
that are either all mutually related

1430
01:11:18,239 --> 01:11:24,640
like they they have a defined sequence

1431
01:11:20,159 --> 01:11:28,760
for them or not. So for example,

1432
01:11:24,640 --> 01:11:28,760
uh where's my purple?

1433
01:11:28,960 --> 01:11:33,360
Need even more colors. Hopefully this

1434
01:11:31,040 --> 01:11:36,000
will still be clear. Uh so for example

1435
01:11:33,360 --> 01:11:38,000
if I take shirt

1436
01:11:36,000 --> 01:11:41,040
and jacket

1437
01:11:38,000 --> 01:11:42,960
and winter coat

1438
01:11:41,040 --> 01:11:45,440
these are three vertices and I claim

1439
01:11:42,960 --> 01:11:47,280
they form a chain because these two are

1440
01:11:45,440 --> 01:11:49,120
related. These two are related. These

1441
01:11:47,280 --> 01:11:51,520
two are related. All pairs of them are

1442
01:11:49,120 --> 01:11:53,040
related. And in fact they they have a

1443
01:11:51,520 --> 01:11:54,400
fixed order right? Shirt has to happen

1444
01:11:53,040 --> 01:11:57,280
before jacket. Jacket has to happen

1445
01:11:54,400 --> 01:11:59,600
before winter coat.

1446
01:11:57,280 --> 01:12:01,120
I happen to skip scarf but I could also

1447
01:11:59,600 --> 01:12:03,199
put scarf in. that would also that would

1448
01:12:01,120 --> 01:12:05,520
be a longer chain.

1449
01:12:03,199 --> 01:12:07,040
Okay, chains basically correspond to

1450
01:12:05,520 --> 01:12:10,719
paths except you can throw some of the

1451
01:12:07,040 --> 01:12:13,760
vertices away. So that's why I left a

1452
01:12:10,719 --> 01:12:16,560
blank line here. This is basically a

1453
01:12:13,760 --> 01:12:20,840
subset

1454
01:12:16,560 --> 01:12:20,840
of a path.

1455
01:12:21,280 --> 01:12:25,360
Every chain is going to be a subset of a

1456
01:12:22,960 --> 01:12:27,360
path. An anti-chain though is is sort of

1457
01:12:25,360 --> 01:12:28,800
the interesting new notion here. That's

1458
01:12:27,360 --> 01:12:30,960
going to be a set of vertices that are

1459
01:12:28,800 --> 01:12:32,719
mutually incomparable. For example, all

1460
01:12:30,960 --> 01:12:34,560
the sources

1461
01:12:32,719 --> 01:12:36,239
by definition, you can't reach any of

1462
01:12:34,560 --> 01:12:38,400
them for any other because you if you

1463
01:12:36,239 --> 01:12:40,480
start at a source, you can't get to any

1464
01:12:38,400 --> 01:12:42,080
sorry if you start outside you can never

1465
01:12:40,480 --> 01:12:44,000
get to a source. That's what I want to

1466
01:12:42,080 --> 01:12:47,040
say unless you started at that exact

1467
01:12:44,000 --> 01:12:49,440
source. So all the circled red vertices

1468
01:12:47,040 --> 01:12:52,320
for the sources are an anti-chain. So

1469
01:12:49,440 --> 01:12:53,600
are all the squared ones at the bottom.

1470
01:12:52,320 --> 01:12:57,199
Those are the syncs. There are four of

1471
01:12:53,600 --> 01:13:01,360
them. Those are form an anti-chain.

1472
01:12:57,199 --> 01:13:03,600
Okay. Now

1473
01:13:01,360 --> 01:13:06,480
I claim anti-chains are really what's

1474
01:13:03,600 --> 01:13:08,560
going on in the scheduling problem

1475
01:13:06,480 --> 01:13:11,440
in the sense that all the tasks that are

1476
01:13:08,560 --> 01:13:13,840
done at the same time must be an

1477
01:13:11,440 --> 01:13:15,280
anti-chain. So if you look at all the

1478
01:13:13,840 --> 01:13:17,040
things that happen at time zero those

1479
01:13:15,280 --> 01:13:18,719
are the sources those have to be an

1480
01:13:17,040 --> 01:13:21,280
anti-chain.

1481
01:13:18,719 --> 01:13:22,640
uh all the things done at time 53 also

1482
01:13:21,280 --> 01:13:24,560
have to be an anti-chain because if

1483
01:13:22,640 --> 01:13:27,120
there's any relation between them if one

1484
01:13:24,560 --> 01:13:29,920
of them had to precede another if there

1485
01:13:27,120 --> 01:13:32,239
was a path between two of the vertices

1486
01:13:29,920 --> 01:13:34,000
done at time I then that would be

1487
01:13:32,239 --> 01:13:36,080
invalid you're not allowed to do that if

1488
01:13:34,000 --> 01:13:37,920
two if things if u and v have a

1489
01:13:36,080 --> 01:13:40,640
reachability relationship they must be

1490
01:13:37,920 --> 01:13:42,560
done at different times okay so the

1491
01:13:40,640 --> 01:13:44,960
things you do at a particular time form

1492
01:13:42,560 --> 01:13:48,239
an anti-chain

1493
01:13:44,960 --> 01:13:51,960
and so by that exact theorem

1494
01:13:48,239 --> 01:13:51,960
We get this correlary.

1495
01:13:55,199 --> 01:13:58,199
Uh

1496
01:14:14,480 --> 01:14:17,480
Another

1497
01:14:20,880 --> 01:14:24,320
way to look at a schedule is it's

1498
01:14:22,400 --> 01:14:27,679
partitioning the vertices. The vertices

1499
01:14:24,320 --> 01:14:29,440
are all the tasks I have to do and into

1500
01:14:27,679 --> 01:14:31,520
the fewest number of anti-chains.

1501
01:14:29,440 --> 01:14:34,159
Anti-chain is a set of vertices I can do

1502
01:14:31,520 --> 01:14:36,880
at the same time.

1503
01:14:34,159 --> 01:14:40,239
So the number of steps I need the span

1504
01:14:36,880 --> 01:14:42,080
of that schedule is exactly the number

1505
01:14:40,239 --> 01:14:45,760
of anti-chains I need to cover all the

1506
01:14:42,080 --> 01:14:48,239
vertices to execute all the tasks. Okay,

1507
01:14:45,760 --> 01:14:50,960
this the theorem is this has the same

1508
01:14:48,239 --> 01:14:54,800
size as the size of the partition. And

1509
01:14:50,960 --> 01:15:01,080
the number of anti-chains you need

1510
01:14:54,800 --> 01:15:01,080
is uh the longest chain.

1511
01:15:05,360 --> 01:15:10,400
Okay, the proof is exactly you you apply

1512
01:15:08,320 --> 01:15:12,239
the schedule and then your anti-chains

1513
01:15:10,400 --> 01:15:13,760
are all the things I do at time zero,

1514
01:15:12,239 --> 01:15:14,800
that's one anti-chain. All the things I

1515
01:15:13,760 --> 01:15:17,040
do at time one, that's another

1516
01:15:14,800 --> 01:15:19,440
anti-chain. And so this is kind of a

1517
01:15:17,040 --> 01:15:22,159
neat connection between these are kind

1518
01:15:19,440 --> 01:15:24,640
of dual notions. one you want lots of

1519
01:15:22,159 --> 01:15:27,760
comparisons possible and the anti-chain

1520
01:15:24,640 --> 01:15:29,679
you want no comparisons possible

1521
01:15:27,760 --> 01:15:31,199
and this is saying that they're related

1522
01:15:29,679 --> 01:15:33,920
in that if I try to split into

1523
01:15:31,199 --> 01:15:36,159
anti-chains the number of anti-chains I

1524
01:15:33,920 --> 01:15:38,560
need to cover everything is equal to the

1525
01:15:36,159 --> 01:15:42,080
longest chain turns out the reverse is

1526
01:15:38,560 --> 01:15:44,800
also true the if I take if I want to

1527
01:15:42,080 --> 01:15:46,800
partition into the fewest chains

1528
01:15:44,800 --> 01:15:50,239
uh the number of chains I need is the

1529
01:15:46,800 --> 01:15:52,320
same as the longest anti-chain

1530
01:15:50,239 --> 01:15:54,080
kind of cool.

1531
01:15:52,320 --> 01:15:58,280
I guess this should technically be the

1532
01:15:54,080 --> 01:15:58,280
largest because it's a set.

1533
01:15:58,640 --> 01:16:03,800
Um, what else do I want to say?

1534
01:16:05,360 --> 01:16:12,280
You can use this to prove some fun facts

1535
01:16:08,000 --> 01:16:12,280
like uh

1536
01:16:13,440 --> 01:16:17,360
there's always a large chain or a large

1537
01:16:15,760 --> 01:16:21,760
anti-chain.

1538
01:16:17,360 --> 01:16:24,080
So for example for any t

1539
01:16:21,760 --> 01:16:27,440
either

1540
01:16:24,080 --> 01:16:32,239
there exists a chain

1541
01:16:27,440 --> 01:16:35,280
of length or of size

1542
01:16:32,239 --> 01:16:39,880
uh greater than t

1543
01:16:35,280 --> 01:16:39,880
or there exists an anti-chain

1544
01:16:41,520 --> 01:16:47,120
of size

1545
01:16:43,760 --> 01:16:49,520
at least n / t or size of vertices over

1546
01:16:47,120 --> 01:16:51,440
t.

1547
01:16:49,520 --> 01:16:53,840
Okay, this just follows from that

1548
01:16:51,440 --> 01:16:55,840
thinking about the partitions. If you if

1549
01:16:53,840 --> 01:16:57,760
you know that all the chains are small,

1550
01:16:55,840 --> 01:17:00,719
suppose all the chains have size at most

1551
01:16:57,760 --> 01:17:02,400
t then you know that the partition into

1552
01:17:00,719 --> 01:17:05,120
anti-chains

1553
01:17:02,400 --> 01:17:07,679
or sorry uh yeah one one way or the

1554
01:17:05,120 --> 01:17:10,159
other uh if I know all the chains are

1555
01:17:07,679 --> 01:17:11,760
small then I know I can partition into

1556
01:17:10,159 --> 01:17:15,760
anti-chains

1557
01:17:11,760 --> 01:17:17,760
uh with that number. So I can partition

1558
01:17:15,760 --> 01:17:20,400
into t anti-chains if all the chains

1559
01:17:17,760 --> 01:17:24,239
have length at most t. And that means

1560
01:17:20,400 --> 01:17:26,159
that uh the longest anti-chain has to be

1561
01:17:24,239 --> 01:17:28,159
at least v over t because all the

1562
01:17:26,159 --> 01:17:30,080
vertices get covered by the partition

1563
01:17:28,159 --> 01:17:32,560
and so the biggest one is going to be uh

1564
01:17:30,080 --> 01:17:35,040
bigger than the average. So you can use

1565
01:17:32,560 --> 01:17:37,120
it to do that. You can use it to do

1566
01:17:35,040 --> 01:17:40,880
other fun things like have you ever

1567
01:17:37,120 --> 01:17:42,880
wondered I don't know what your

1568
01:17:40,880 --> 01:17:44,320
calendar looks like but for me I have

1569
01:17:42,880 --> 01:17:46,640
lots of conflicting events. I have to be

1570
01:17:44,320 --> 01:17:48,960
in many places at the same time. It's

1571
01:17:46,640 --> 01:17:50,640
pretty annoying and partly because I

1572
01:17:48,960 --> 01:17:52,000
have many calendars all displayed in the

1573
01:17:50,640 --> 01:17:53,760
same place. And so, have you ever

1574
01:17:52,000 --> 01:17:56,560
wondered how do you display a calendar

1575
01:17:53,760 --> 01:17:58,719
like this? Well, for for one event that

1576
01:17:56,560 --> 01:18:02,960
appear that occurs strictly before

1577
01:17:58,719 --> 01:18:05,040
another, uh, I'll draw an edge.

1578
01:18:02,960 --> 01:18:07,600
Okay. So, uh, here's an edge there.

1579
01:18:05,040 --> 01:18:10,719
There's an edge there. Uh, some of these

1580
01:18:07,600 --> 01:18:13,040
have edges, some don't.

1581
01:18:10,719 --> 01:18:16,159
Then in particular if I look at two

1582
01:18:13,040 --> 01:18:17,920
conflicting events they will be

1583
01:18:16,159 --> 01:18:19,520
incomparable according to this

1584
01:18:17,920 --> 01:18:20,960
definition. There'll be no path from

1585
01:18:19,520 --> 01:18:23,120
this vertex to this vertex or this

1586
01:18:20,960 --> 01:18:25,120
vertex to that vertex.

1587
01:18:23,120 --> 01:18:27,840
And so what I'm looking at here is a

1588
01:18:25,120 --> 01:18:30,560
partition into chains. Each of these

1589
01:18:27,840 --> 01:18:31,920
chains has to be nicely ordered. And I

1590
01:18:30,560 --> 01:18:33,840
want to know how many different chains

1591
01:18:31,920 --> 01:18:35,760
do I need? Well, it turns out the answer

1592
01:18:33,840 --> 01:18:38,480
is exactly the size of the largest

1593
01:18:35,760 --> 01:18:41,199
anti-chain. In other words, the size of

1594
01:18:38,480 --> 01:18:43,520
the largest set of events that are

1595
01:18:41,199 --> 01:18:44,880
pair-wise conflicting, which is sort of

1596
01:18:43,520 --> 01:18:46,480
the best you could hope for, right? I

1597
01:18:44,880 --> 01:18:47,760
need exact I need at least one column

1598
01:18:46,480 --> 01:18:49,679
for each of these guys if they're all

1599
01:18:47,760 --> 01:18:51,360
conflicting with each other. And it

1600
01:18:49,679 --> 01:18:53,920
turns out you can always achieve that.

1601
01:18:51,360 --> 01:18:58,440
And that's how calendars draw their

1602
01:18:53,920 --> 01:18:58,440
events. All right, that's it.

